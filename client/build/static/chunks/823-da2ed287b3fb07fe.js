"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{6105:function(e,t,i){i.d(t,{Dl:function(){return r},bd:function(){return n},uJ:function(){return s}});let n=["Concrete and Masonry","Roofing Materials","Drywall and Accessories","Builders' Hardware","Caulks and Sealants","Insulation"],r=[{name:"Piece"},{name:"Pack"},{name:"Box"},{name:"Roll"},{name:"Sheet"},{name:"Set"},{name:"Bundle"},{name:"Gallon"},{name:"Pound"},{name:"Foot"}],s=[{name:"Admin"},{name:"Cashier"}]},7823:function(e,t,i){i.r(t),i.d(t,{default:function(){return I}});var n=i(5893),r=i(7294),s=i(7963),l=i(5083),a=i(9778),o=i(5335),c=i(6205),d=i(4859),u=i(4346),h=i(5970),m=i(5418),p=i(6479),f=i(4203),x=i(1731),v=i(4253),j=i(3717),g=i(4225),y=i(7533),b=i(6310);let P=b.Ry().shape({name:b.Z_().required("Product name is required").max(30,"Product must be less than 30 characters!"),description:b.Z_().optional().max(30,"Description must be less than 30 characters!"),price:b.Rx().required("Price is required").typeError("Price must be a number"),quantity:b.Rx().required("Product quantiy is required").typeError("Quantity must be a number"),unit:b.Z_().required("Product unit is required"),category:b.Z_().required("Product category is required")});var q=i(7536),_=i(2724),E=i(5527),C=i(6105),I=e=>{let{isOpen:t,onClose:i,isEdit:b,editData:I,deleteProduct:S}=e,[N,{isSuccess:k,isError:w,error:W}]=(0,_.qX)(),[T,{isSuccess:D,isError:F,error:J}]=(0,_.wE)(),R=(0,s.p)(),{handleSubmit:z,register:B,reset:Z,setValue:A,formState:{errors:G}}=(0,q.cI)({resolver:(0,y.X)(P)});(0,r.useEffect)(()=>{if(b&&I){let{name:e,price:t,description:i,quantity:n,unit:r,category:s}=I;A("name",e),A("price",t),A("quantity",n),A("description",i),A("unit",r),A("category",s)}else Z()},[b,I,A,Z]),(0,r.useEffect)(()=>{if(k&&R({title:"Success",variant:"left-accent",status:"success",position:"top",isClosable:!0}),w){var e,t;R({title:null==W?void 0:null===(t=W.data)||void 0===t?void 0:null===(e=t.response)||void 0===e?void 0:e.message,variant:"left-accent",status:"error",position:"top",isClosable:!0})}},[k,w,W,R]),(0,r.useEffect)(()=>{if(D&&R({title:"Success",variant:"left-accent",status:"success",position:"top",isClosable:!0}),F){var e,t;R({title:null==J?void 0:null===(t=J.data)||void 0===t?void 0:null===(e=t.response)||void 0===e?void 0:e.message,variant:"left-accent",status:"error",position:"top",isClosable:!0})}},[D,F,J,R]),(0,r.useEffect)(()=>{b&&D&&(i(),Z())},[b,D,i,Z]),(0,r.useEffect)(()=>{!b&&k&&(i(),Z())},[b,k,i,Z]);let U=async e=>{b?await T({...e,_id:null==I?void 0:I._id}):await N(e)};return(0,n.jsx)(l.d,{isOpen:t,placement:"right",onClose:()=>{b||Z(),i()},children:(0,n.jsxs)("form",{onSubmit:z(U),children:[(0,n.jsx)(a.Z,{}),(0,n.jsxs)(o.s,{children:[(0,n.jsx)(c.o,{}),(0,n.jsx)(d.x,{fontWeight:"400",children:b?"Update Product":"Create Product"}),(0,n.jsxs)(u.f,{children:[(0,n.jsxs)(h.NI,{isInvalid:!!(null==G?void 0:G.name),mb:5,children:[(0,n.jsx)(m.l,{htmlFor:"name",fontWeight:"300",children:"Product"}),(0,n.jsx)(p.I,{id:"name",...B("name"),placeholder:"Electrical Tape",fontWeight:"300"}),(0,n.jsx)(f.J1,{children:G.name&&G.name.message})]}),(0,n.jsxs)(h.NI,{isInvalid:!!(null==G?void 0:G.description),mb:5,children:[(0,n.jsx)(m.l,{htmlFor:"description",fontWeight:"300",children:"Description"}),(0,n.jsx)(p.I,{id:"description",...B("description"),placeholder:"Description",fontWeight:"300"}),(0,n.jsx)(f.J1,{children:G.description&&G.description.message})]}),(0,n.jsxs)(h.NI,{isInvalid:!!(null==G?void 0:G.price),mb:5,children:[(0,n.jsx)(m.l,{htmlFor:"price",fontWeight:"300",children:"Price per unit"}),(0,n.jsx)(p.I,{id:"price",...B("price"),placeholder:"â‚±50.00",type:"number",step:"any",min:"0",max:"9999999",fontWeight:"300"}),(0,n.jsx)(f.J1,{children:G.price&&G.price.message})]}),(0,n.jsxs)(h.NI,{isInvalid:!!(null==G?void 0:G.quantity),mb:5,children:[(0,n.jsx)(m.l,{htmlFor:"quantity",fontWeight:"300",children:"Quantity"}),(0,n.jsx)(p.I,{id:"quantity",...B("quantity"),placeholder:"1",type:"number",fontWeight:"300"}),(0,n.jsx)(f.J1,{children:G.quantity&&G.quantity.message})]}),(0,n.jsxs)(h.NI,{isInvalid:!!(null==G?void 0:G.unit),mb:5,children:[(0,n.jsx)(m.l,{htmlFor:"unit",fontWeight:"300",children:"Unit"}),(0,n.jsx)(x.P,{id:"unit",placeholder:"Select unit",...B("unit"),fontWeight:"300",children:null===C.Dl||void 0===C.Dl?void 0:C.Dl.map((e,t)=>(0,n.jsx)("option",{value:e.name,children:e.name},t))}),(0,n.jsx)(f.J1,{children:G.unit&&G.unit.message})]}),(0,n.jsxs)(h.NI,{isInvalid:!!(null==G?void 0:G.category),mb:5,children:[(0,n.jsx)(m.l,{htmlFor:"category",fontWeight:"300",children:"Category"}),(0,n.jsx)(x.P,{id:"category",placeholder:"Select category",...B("category"),fontWeight:"300",children:null===C.bd||void 0===C.bd?void 0:C.bd.map((e,t)=>(0,n.jsx)("option",{value:e,children:e},t))}),(0,n.jsx)(f.J1,{children:G.category&&G.category.message})]})]}),(0,n.jsxs)(v.m,{justifyContent:"space-between",children:[(0,n.jsx)(j.k,{children:(0,n.jsx)(E.p,{onClick:()=>S(null==I?void 0:I._id),color:"red.500",cursor:"pointer"})}),(0,n.jsxs)(j.k,{children:[(0,n.jsx)(g.z,{variant:"outline",mr:3,onClick:i,children:"Cancel"}),(0,n.jsx)(g.z,{type:"submit",colorScheme:"teal",children:b?"Update":"Create"})]})]})]})]})})}},2724:function(e,t,i){i.d(t,{Jy:function(){return l},qX:function(){return s},wE:function(){return a},xq:function(){return o}});var n=i(9457);let r=n.h.injectEndpoints({endpoints:e=>({createProduct:e.mutation({query:e=>({url:"product/api/createProduct",method:"POST",data:e}),invalidatesTags:["Product"]}),getAllProducts:e.query({query:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{url:"product/api/getAllProducts".concat(e),method:"GET"}},transformResponse:(e,t,i)=>e.data,providesTags:["Product","Transaction"]}),updateProduct:e.mutation({query:e=>({url:"product/api/updateProduct/".concat(e._id),method:"PUT",data:e}),invalidatesTags:["Product"]}),deleteProduct:e.mutation({query:e=>({url:"product/api/deleteProduct/".concat(e),method:"DELETE"}),invalidatesTags:["Product"]})})}),{useCreateProductMutation:s,useGetAllProductsQuery:l,useUpdateProductMutation:a,useDeleteProductMutation:o}=r},1731:function(e,t,i){i.d(t,{P:function(){return h}});var n=i(5432),r=i(6554),s=i(6914),l=i(5893),a=(0,r.G)(function(e,t){let{children:i,placeholder:r,className:a,...o}=e;return(0,l.jsxs)(s.m.select,{...o,ref:t,className:(0,n.cx)("chakra-select",a),children:[r&&(0,l.jsx)("option",{value:"",children:r}),i]})});a.displayName="SelectField";var o=i(8912),c=i(7030),d=i(3179),u=i(7294),h=(0,r.G)((e,t)=>{var i;let r=(0,c.jC)("Select",e),{rootProps:u,placeholder:h,icon:m,color:p,height:x,h:v,minH:j,minHeight:g,iconColor:y,iconSize:b,...P}=(0,d.Lr)(e),[q,_]=function(e,t){let i={},n={};for(let[r,s]of Object.entries(e))t.includes(r)?i[r]=s:n[r]=s;return[i,n]}(P,d.oE),E=(0,o.Y)(_),C={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...null==(i=r.field)?void 0:i._focus}};return(0,l.jsxs)(s.m.div,{className:"chakra-select__wrapper",__css:{width:"100%",height:"fit-content",position:"relative",color:p},...q,...u,children:[(0,l.jsx)(a,{ref:t,height:null!=v?v:x,minH:null!=j?j:g,placeholder:h,...E,__css:C,children:e.children}),(0,l.jsx)(f,{"data-disabled":(0,n.PB)(E.disabled),...(y||p)&&{color:y||p},__css:r.icon,...b&&{fontSize:b},children:m})]})});h.displayName="Select";var m=e=>(0,l.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,l.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),p=(0,s.m)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),f=e=>{let{children:t=(0,l.jsx)(m,{}),...i}=e,n=(0,u.cloneElement)(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,l.jsx)(p,{...i,className:"chakra-select__icon-wrapper",children:(0,u.isValidElement)(t)?n:null})};f.displayName="SelectIcon"}}]);