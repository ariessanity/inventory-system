(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[575],{7036:function(e,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/transaction/_modal/AddToCartModal",function(){return l(8745)}])},8745:function(e,n,l){"use strict";l.r(n);var i=l(5893),t=l(5662),r=l(3792),a=l(5541),o=l(9778),d=l(4581),s=l(6205),u=l(4346),c=l(5281),h=l(1293),x=l(4880),v=l(8580),f=l(4253),m=l(4225),p=l(7294);n.default=e=>{let{isOpen:n,productData:l,onClose:j,searchReset:y}=e,C=(0,t.TL)(),{cart:b}=(0,t.CG)(e=>e.cart),[_,k]=(0,p.useState)(1),g=b.find(e=>e._id===(null==l?void 0:l._id)),q=((null==l?void 0:l.quantity)||0)-((null==g?void 0:g.quantity)||0);return(0,p.useEffect)(()=>{k(1)},[n]),(0,p.useEffect)(()=>{((null==l?void 0:l.quantity)||1)<=_&&k((null==l?void 0:l.quantity)||1),_>q&&k(q||1)},[q,null==l?void 0:l.quantity,_]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(a.u_,{isCentered:!0,onClose:j,isOpen:n,motionPreset:"slideInBottom",children:[(0,i.jsx)(o.Z,{}),(0,i.jsxs)(d.h,{children:[(0,i.jsx)(s.o,{}),(0,i.jsx)(u.f,{children:(0,i.jsxs)(c.K,{fontWeight:"500",pt:4,children:[(0,i.jsxs)(h.x,{children:["Product:"," ",(0,i.jsx)(h.x,{as:"span",fontWeight:"300",children:null==l?void 0:l.name})," "]}),(0,i.jsxs)(h.x,{children:["Description:"," ",(0,i.jsx)(h.x,{as:"span",fontWeight:"300",children:(null==l?void 0:l.description)?null==l?void 0:l.description:"-"})]}),(0,i.jsxs)(h.x,{children:["Price:"," ",(0,i.jsxs)(h.x,{as:"span",fontWeight:"300",children:["â‚±",null==l?void 0:l.price]})]}),(0,i.jsxs)(h.x,{children:["Stock/s:"," ",(0,i.jsx)(h.x,{as:"span",fontWeight:"300",color:q/((null==l?void 0:l.quantity)||1)<=.1?"red":"",children:q>0?"".concat(q," items left"):"Out of Stock"})]}),(0,i.jsxs)(h.x,{children:["Unit:"," ",(0,i.jsx)(h.x,{as:"span",fontWeight:"300",children:null==l?void 0:l.unit})]}),(0,i.jsxs)(h.x,{children:["Category:"," ",(0,i.jsx)(x.C,{variant:"outline",colorScheme:"teal",children:null==l?void 0:l.category})]}),(0,i.jsx)(h.x,{children:"Quantity: "}),(0,i.jsxs)(v.Y2,{isDisabled:((null==l?void 0:l.quantity)||0)<_,defaultValue:1,min:0,value:_,onChange:(e,n)=>{k(n||0)},children:[(0,i.jsx)(v.zu,{id:"quantity",fontWeight:"300",value:_,onChange:e=>k(parseInt(e.target.value)||0),placeholder:"Enter Quantity"}),(0,i.jsxs)(v.Fi,{children:[(0,i.jsx)(v.WQ,{}),(0,i.jsx)(v.Y_,{})]})]})]})}),(0,i.jsxs)(f.m,{children:[(0,i.jsx)(m.z,{fontWeight:"300",variant:"solid",mr:3,onClick:j,children:"Cancel"}),(0,i.jsx)(m.z,{fontWeight:"300",colorScheme:"teal",onClick:()=>{C((0,r.Xq)({...l,quantity:_,total:_*((null==l?void 0:l.price)||0)})),k(1),y(),j()},isDisabled:((null==l?void 0:l.quantity)||_)<(null==g?void 0:g.quantity)+1||(null==l?void 0:l.quantity)===0,children:"Add to Cart"})]})]})]})})}},8912:function(e,n,l){"use strict";l.d(n,{K:function(){return a},Y:function(){return r}});var i=l(5970),t=l(5432);function r(e){let{isDisabled:n,isInvalid:l,isReadOnly:i,isRequired:r,...o}=a(e);return{...o,disabled:n,readOnly:i,required:r,"aria-invalid":(0,t.Qm)(l),"aria-required":(0,t.Qm)(r),"aria-readonly":(0,t.Qm)(i)}}function a(e){var n,l,r;let a=(0,i.NJ)(),{id:o,disabled:d,readOnly:s,required:u,isRequired:c,isInvalid:h,isReadOnly:x,isDisabled:v,onFocus:f,onBlur:m,...p}=e,j=e["aria-describedby"]?[e["aria-describedby"]]:[];return(null==a?void 0:a.hasFeedbackText)&&(null==a?void 0:a.isInvalid)&&j.push(a.feedbackId),(null==a?void 0:a.hasHelpText)&&j.push(a.helpTextId),{...p,"aria-describedby":j.join(" ")||void 0,id:null!=o?o:null==a?void 0:a.id,isDisabled:null!=(n=null!=d?d:v)?n:null==a?void 0:a.isDisabled,isReadOnly:null!=(l=null!=s?s:x)?l:null==a?void 0:a.isReadOnly,isRequired:null!=(r=null!=u?u:c)?r:null==a?void 0:a.isRequired,isInvalid:null!=h?h:null==a?void 0:a.isInvalid,onFocus:(0,t.v0)(null==a?void 0:a.onFocus,f),onBlur:(0,t.v0)(null==a?void 0:a.onBlur,m)}}},5970:function(e,n,l){"use strict";l.d(n,{NI:function(){return m},NJ:function(){return f},e:function(){return x}});var i=l(5227),t=l(1103),r=l(6554),a=l(7030),o=l(3179),d=l(6914),s=l(5432),u=l(7294),c=l(5893),[h,x]=(0,i.k)({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[v,f]=(0,i.k)({strict:!1,name:"FormControlContext"}),m=(0,r.G)(function(e,n){let l=(0,a.jC)("Form",e),i=(0,o.Lr)(e),{getRootProps:r,htmlProps:x,...f}=function(e){let{id:n,isRequired:l,isInvalid:i,isDisabled:r,isReadOnly:a,...o}=e,d=(0,u.useId)(),c=n||`field-${d}`,h=`${c}-label`,x=`${c}-feedback`,v=`${c}-helptext`,[f,m]=(0,u.useState)(!1),[p,j]=(0,u.useState)(!1),[y,C]=(0,u.useState)(!1),b=(0,u.useCallback)((e={},n=null)=>({id:v,...e,ref:(0,t.lq)(n,e=>{e&&j(!0)})}),[v]),_=(0,u.useCallback)((e={},n=null)=>({...e,ref:n,"data-focus":(0,s.PB)(y),"data-disabled":(0,s.PB)(r),"data-invalid":(0,s.PB)(i),"data-readonly":(0,s.PB)(a),id:void 0!==e.id?e.id:h,htmlFor:void 0!==e.htmlFor?e.htmlFor:c}),[c,r,y,i,a,h]),k=(0,u.useCallback)((e={},n=null)=>({id:x,...e,ref:(0,t.lq)(n,e=>{e&&m(!0)}),"aria-live":"polite"}),[x]),g=(0,u.useCallback)((e={},n=null)=>({...e,...o,ref:n,role:"group","data-focus":(0,s.PB)(y),"data-disabled":(0,s.PB)(r),"data-invalid":(0,s.PB)(i),"data-readonly":(0,s.PB)(a)}),[o,r,y,i,a]),q=(0,u.useCallback)((e={},n=null)=>({...e,ref:n,role:"presentation","aria-hidden":!0,children:e.children||"*"}),[]);return{isRequired:!!l,isInvalid:!!i,isReadOnly:!!a,isDisabled:!!r,isFocused:!!y,onFocus:()=>C(!0),onBlur:()=>C(!1),hasFeedbackText:f,setHasFeedbackText:m,hasHelpText:p,setHasHelpText:j,id:c,labelId:h,feedbackId:x,helpTextId:v,htmlProps:o,getHelpTextProps:b,getErrorMessageProps:k,getRootProps:g,getLabelProps:_,getRequiredIndicatorProps:q}}(i),m=(0,s.cx)("chakra-form-control",e.className);return(0,c.jsx)(v,{value:f,children:(0,c.jsx)(h,{value:l,children:(0,c.jsx)(d.m.div,{...r({},n),className:m,__css:l.container})})})});m.displayName="FormControl",(0,r.G)(function(e,n){let l=f(),i=x(),t=(0,s.cx)("chakra-form__helper-text",e.className);return(0,c.jsx)(d.m.div,{...null==l?void 0:l.getHelpTextProps(e,n),__css:i.helperText,className:t})}).displayName="FormHelperText"}},function(e){e.O(0,[614,774,888,179],function(){return e(e.s=7036)}),_N_E=e.O()}]);