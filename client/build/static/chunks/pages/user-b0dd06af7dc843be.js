(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{8948:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user",function(){return r(9542)}])},9542:function(e,n,r){"use strict";r.r(n);var s=r(5893),o=r(1971),t=r(967),i=r(1293),c=r(3717),a=r(7239),l=r(4225),d=r(2140),u=r(2735),h=r(6479),m=r(7294),x=r(8193),j=r(2581),p=r(9784),C=r(5527),f=r(547),w=r(6899),g=r(5130),b=r(9008),k=r.n(b);n.default=()=>{let[e,n]=(0,m.useState)(),[r,b]=(0,m.useState)(),[_,v]=(0,m.useState)(),[y,E]=(0,m.useState)(""),[S,D]=(0,m.useState)({page:1,limit:20}),[N,O]=(0,m.useState)({sortDirection:"none",accessor:"",direction:""}),[H]=(0,j.I1)(),A=(0,g.L)({...S}),{data:B,refetch:P,isFetching:U,isLoading:I}=(0,j.wv)(A),{isOpen:M,onClose:W,onOpen:R}=(0,t.q)(),{isOpen:T,onClose:Z,onOpen:q}=(0,t.q)(),z=e=>{var r;let s=null==B?void 0:null===(r=B.users)||void 0===r?void 0:r.find(n=>n._id===e);R(),n(!0),b(s)},F=async()=>{await H(_),Z(),W()},L=e=>{q(),v(e)},X=[{Header:"Username",accessor:"username",width:150,sortDirection:"username"===N.accessor?N.direction:"none"},{Header:"Full Name",accessor:"firstname",width:150,sortDirection:"firstname"===N.accessor?N.direction:"none",Cell:e=>{let{cell:{value:n,row:r}}=e;return(0,s.jsx)(i.x,{children:n?"".concat(n," ").concat(r.original.lastname):"-"})}},{Header:"Email",accessor:"email",width:150,Cell:e=>{let{cell:{value:n}}=e;return(0,s.jsx)(i.x,{children:n||"-"})},sortDirection:"email"===N.accessor?N.direction:"none"},{Header:"Contact Number",accessor:"mobileNumber",width:160,Cell:e=>{let{cell:{value:n}}=e;return(0,s.jsx)(i.x,{children:n})},sortDirection:"mobileNumber"===N.accessor?N.direction:"none"},{Header:"Role",accessor:"role",width:120,Cell:e=>{let{cell:{value:n}}=e;return(0,s.jsx)(i.x,{children:n})},sortDirection:"role"===N.accessor?N.direction:"none"},{Header:()=>(0,s.jsx)(i.x,{textAlign:"center",children:"Action"}),accessor:"_id",width:80,Cell:e=>{let{cell:{value:n,row:r}}=e;return(0,s.jsxs)(c.k,{children:[(0,s.jsx)(p.d,{mr:5,color:"teal.500",cursor:"pointer",onClick:()=>z(n)}),"Super Admin"!==r.original.role&&(0,s.jsx)(C.p,{onClick:()=>L(n),color:"red.500",cursor:"pointer"})]})}}];return(0,s.jsxs)(c.k,{flexDirection:"column",justifyContent:"space-between",children:[(0,s.jsx)(k(),{children:(0,s.jsx)("title",{children:"User Management"})}),(0,s.jsx)(a.M,{fontSize:30,fontWeight:"300",color:"gray.600",fontFamily:"monospace",children:"USER MANAGEMENT"}),(0,s.jsxs)(c.k,{flexDirection:{base:"column-reverse",sm:"row"},justifyContent:"space-between",alignItems:"center",my:5,children:[(0,s.jsx)(l.z,{w:"100%",maxWidth:{base:"100%",sm:"8em"},fontWeight:"300",colorScheme:"teal",variant:"outline",onClick:()=>{R(),n(!1)},leftIcon:(0,s.jsx)(x.dEn,{}),children:"Add User"}),(0,s.jsxs)(d.B,{w:"100%",maxWidth:{base:"100%",sm:"18.75em"},mb:{base:2,sm:0},children:[(0,s.jsx)(u.Z,{cursor:"pointer",onClick:e=>{D({...S,search:y,page:1}),P()},children:(0,s.jsx)(x.RB5,{})}),(0,s.jsx)(h.I,{value:y||"",onChange:e=>E(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(D({...S,search:y,page:1}),P())},type:"text",placeholder:"Search..."}),(0,s.jsx)(u.x,{cursor:"pointer",onClick:()=>{E(""),D({...S,search:""}),P()},children:(0,s.jsx)(x.oHP,{})})]})]}),(0,s.jsx)(o.Z,{columns:X,data:(null==B?void 0:B.users)||[],count:null==B?void 0:B.count,isLoading:I,currentPage:null==S?void 0:S.page,onPageChange:e=>{D({...S,page:e}),P()},onSortChange:e=>{switch(e.sortDirection){case"none":O({direction:"asc",accessor:e.id}),D({...S,sortBy:e.id,sortOrder:"asc"});break;case"asc":O({direction:"desc",accessor:e.id}),D({...S,sortBy:e.id,sortOrder:"desc"});break;case"desc":O({direction:"none",accessor:e.id}),D({...S,sortBy:"",sortOrder:""})}}}),(0,s.jsx)(f.default,{isOpen:M,onClose:W,isEdit:e,editData:r,deleteUser:L}),(0,s.jsx)(w.Z,{isOpen:T,onClose:Z,onClick:F})]})}}},function(e){e.O(0,[776,471,586,547,774,888,179],function(){return e(e.s=8948)}),_N_E=e.O()}]);