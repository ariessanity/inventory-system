(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{1734:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product",function(){return r(7548)}])},7548:function(e,t,r){"use strict";r.r(t);var n=r(5893),o=r(1971),i=r(967),c=r(1293),s=r(3717),a=r(7239),l=r(4225),d=r(2140),u=r(2735),x=r(6479),h=r(7294),p=r(8193),j=r(2724),C=r(9784),g=r(5527),m=r(7823),w=r(6899),f=r(5130),y=r(9008),k=r.n(y);t.default=()=>{let[e,t]=(0,h.useState)(),[r,y]=(0,h.useState)(),[D,_]=(0,h.useState)(),[v,O]=(0,h.useState)(""),[b,S]=(0,h.useState)({page:1,limit:20}),[E,H]=(0,h.useState)({sortDirection:"none",accessor:"",direction:""}),[P]=(0,j.xq)(),N=(0,f.L)({...b}),{data:A,refetch:q,isFetching:B,isLoading:F}=(0,j.Jy)(N),{isOpen:T,onClose:M,onOpen:W}=(0,i.q)(),{isOpen:I,onClose:U,onOpen:Z}=(0,i.q)(),z=e=>{var r;let n=null==A?void 0:null===(r=A.products)||void 0===r?void 0:r.find(t=>t._id===e);W(),t(!0),y(n)},K=async()=>{await P(D),U(),M()},L=e=>{Z(),_(e)},R=[{Header:"SKU",accessor:"sku",width:150,sortDirection:"sku"===E.accessor?E.direction:"none",Cell:e=>{let{row:t,value:r}=e;return(0,n.jsx)(c.x,{textDecor:"underline",color:"teal",cursor:"pointer",onClick:()=>{z(t.original._id),_(t.original._id)},children:r})}},{Header:"Name",accessor:"name",width:150,sortDirection:"name"===E.accessor?E.direction:"none"},{Header:"Description",accessor:"description",width:150,Cell:e=>{let{cell:{value:t}}=e;return(0,n.jsx)(c.x,{children:t||"-"})},sortDirection:"description"===E.accessor?E.direction:"none"},{Header:"Category",accessor:"category",width:150,Cell:e=>{let{cell:{value:t}}=e;return(0,n.jsx)(c.x,{children:t})},sortDirection:"category"===E.accessor?E.direction:"none"},{Header:()=>(0,n.jsx)(c.x,{children:"Price per unit"}),accessor:"price",width:150,Cell:e=>{let{cell:{value:t}}=e,r=parseFloat(t).toFixed(2);return(0,n.jsx)(c.x,{children:"₱"+r})},sortDirection:"price"===E.accessor?E.direction:"none"},{Header:"Unit",accessor:"unit",width:100,sortDirection:"unit"===E.accessor?E.direction:"none"},{Header:()=>(0,n.jsx)(c.x,{textAlign:"center",children:"Quantity"}),accessor:"quantity",width:100,Cell:e=>{let{cell:{value:t}}=e;return(0,n.jsx)(c.x,{textAlign:"center",children:t})},sortDirection:"quantity"===E.accessor?E.direction:"none"},{Header:()=>(0,n.jsx)(c.x,{children:"Total"}),accessor:"total",width:150,Cell:e=>{let{cell:{value:t}}=e,r=parseFloat(t).toFixed(2);return(0,n.jsx)(c.x,{children:"₱"+r})},sortDirection:"total"===E.accessor?E.direction:"none"},{Header:()=>(0,n.jsx)(c.x,{textAlign:"center",children:"Action"}),accessor:"_id",width:100,Cell:e=>{let{cell:{value:t}}=e;return(0,n.jsxs)(s.k,{justifyContent:"center",children:[(0,n.jsx)(C.d,{mr:5,color:"teal.500",cursor:"pointer",onClick:()=>z(t)}),(0,n.jsx)(g.p,{onClick:()=>L(t),color:"red.500",cursor:"pointer"})]})}}];return(0,n.jsxs)(s.k,{flexDirection:"column",justifyContent:"space-between",children:[(0,n.jsx)(k(),{children:(0,n.jsx)("title",{children:"Product Management"})}),(0,n.jsx)(a.M,{fontSize:30,fontWeight:"300",color:"gray.600",fontFamily:"monospace",children:"PRODUCT MANAGEMENT"}),(0,n.jsxs)(s.k,{flexDirection:{base:"column-reverse",sm:"row"},justifyContent:"space-between",alignItems:"center",my:5,children:[(0,n.jsx)(l.z,{w:"100%",maxWidth:{base:"100%",sm:"8em"},fontWeight:"300",colorScheme:"teal",variant:"outline",onClick:()=>{W(),t(!1)},leftIcon:(0,n.jsx)(p.dEn,{}),children:"Add Product"}),(0,n.jsxs)(d.B,{w:"100%",maxWidth:{base:"100%",sm:"18.75em"},mb:{base:2,sm:0},children:[(0,n.jsx)(u.Z,{cursor:"pointer",onClick:e=>{S({...b,search:v,page:1}),q()},children:(0,n.jsx)(p.RB5,{})}),(0,n.jsx)(x.I,{value:v||"",onChange:e=>O(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(S({...b,search:v,page:1}),q())},type:"text",placeholder:"Search..."}),(0,n.jsx)(u.x,{cursor:"pointer",onClick:()=>{O(""),S({...b,search:""}),q()},children:(0,n.jsx)(p.oHP,{})})]})]}),(0,n.jsx)(o.Z,{columns:R,data:(null==A?void 0:A.products)||[],count:null==A?void 0:A.count,isLoading:F,currentPage:null==b?void 0:b.page,onPageChange:e=>{S({...b,page:e}),q()},onSortChange:e=>{switch(e.sortDirection){case"none":H({direction:"asc",accessor:e.id}),S({...b,sortBy:e.id,sortOrder:"asc"});break;case"asc":H({direction:"desc",accessor:e.id}),S({...b,sortBy:e.id,sortOrder:"desc"});break;case"desc":H({direction:"none",accessor:e.id}),S({...b,sortBy:"",sortOrder:""})}}}),(0,n.jsx)(m.default,{isOpen:T,onClose:M,isEdit:e,editData:r,deleteProduct:L}),(0,n.jsx)(w.Z,{isOpen:I,onClose:U,onClick:K})]})}}},function(e){e.O(0,[776,471,586,823,774,888,179],function(){return e(e.s=1734)}),_N_E=e.O()}]);