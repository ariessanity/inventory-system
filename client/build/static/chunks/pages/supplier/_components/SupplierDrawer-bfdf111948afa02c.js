(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[676],{2028:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/supplier/_components/SupplierDrawer",function(){return r(2797)}])},2797:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return z}});var a=r(5893),i=r(7294),n=r(7963),s=r(5083),l=r(9778),c=r(5335),o=r(6205),u=r(4859),d=r(4346),m=r(5970),p=r(5418),h=r(6479),f=r(4203),x=r(8912),v=r(6554),j=r(7030),N=r(3179),g=r(6914),b=r(5432),S=["h","minH","height","minHeight"],C=(0,v.G)((e,t)=>{let r=(0,j.mq)("Textarea",e),{className:i,rows:n,...s}=(0,N.Lr)(e),l=(0,x.Y)(s),c=n?function(e,t=[]){let r=Object.assign({},e);for(let e of t)e in r&&delete r[e];return r}(r,S):r;return(0,a.jsx)(g.m.textarea,{ref:t,rows:n,...l,className:(0,b.cx)("chakra-textarea",i),__css:c})});C.displayName="Textarea";var y=r(4253),_=r(3717),E=r(4225),k=r(7533),I=r(7536),q=r(662),T=r(5527),W=r(6310);let w=W.Ry().shape({companyName:W.Z_().required("Supplier name is required").max(30,"Supplier must be less than 30 characters!"),contactName:W.Z_().required("Contact name is required").max(30,"Contact name must be less than 30 characters!"),contactNumber:W.Z_().required("Contact number is required"),email:W.Z_().required("Email is required"),remarks:W.Z_().max(30,"Supplier must be less than 30 characters!")});var z=e=>{let{isOpen:t,onClose:r,isEdit:x,editData:v,deleteSupplier:j}=e,[N,{isSuccess:g,isError:b,error:S}]=(0,q.PU)(),[W,{isSuccess:z,isError:A,error:J}]=(0,q.Hp)(),P=(0,n.p)(),{handleSubmit:H,register:O,reset:Z,setValue:F,formState:{errors:U}}=(0,I.cI)({resolver:(0,k.X)(w)});(0,i.useEffect)(()=>{if(x&&v){let{companyName:e,contactName:t,contactNumber:r,email:a,remarks:i}=v;F("companyName",e),F("contactName",t),F("contactNumber",r),F("email",a),F("remarks",i)}else Z()},[x,v,F,Z]),(0,i.useEffect)(()=>{if(g&&P({title:"Success",variant:"left-accent",status:"success",position:"top",isClosable:!0}),b){var e,t;P({title:null==S?void 0:null===(t=S.data)||void 0===t?void 0:null===(e=t.response)||void 0===e?void 0:e.message,variant:"left-accent",status:"error",position:"top",isClosable:!0})}},[g,b,S,P]),(0,i.useEffect)(()=>{if(z&&P({title:"Success",variant:"left-accent",status:"success",position:"top",isClosable:!0}),A){var e,t;P({title:null==J?void 0:null===(t=J.data)||void 0===t?void 0:null===(e=t.response)||void 0===e?void 0:e.message,variant:"left-accent",status:"error",position:"top",isClosable:!0})}},[z,A,J,P]),(0,i.useEffect)(()=>{x&&z&&(r(),Z())},[x,z,r,Z]),(0,i.useEffect)(()=>{!x&&g&&(r(),Z())},[x,g,r,Z]);let D=async e=>{x?await W({...e,_id:null==v?void 0:v._id}):await N(e)};return(0,a.jsx)(s.d,{isOpen:t,placement:"right",onClose:()=>{x||Z(),r()},children:(0,a.jsxs)("form",{onSubmit:H(D),children:[(0,a.jsx)(l.Z,{}),(0,a.jsxs)(c.s,{children:[(0,a.jsx)(o.o,{}),(0,a.jsx)(u.x,{fontWeight:"400",children:x?"Update Supplier":"Create Supplier"}),(0,a.jsxs)(d.f,{children:[(0,a.jsxs)(m.NI,{isInvalid:!!(null==U?void 0:U.companyName),mb:5,children:[(0,a.jsx)(p.l,{htmlFor:"companyName",fontWeight:"300",children:"Supplier"}),(0,a.jsx)(h.I,{id:"companyName",...O("companyName"),placeholder:"ABC Company",fontWeight:"300"}),(0,a.jsx)(f.J1,{children:U.companyName&&U.companyName.message})]}),(0,a.jsxs)(m.NI,{isInvalid:!!(null==U?void 0:U.contactName),mb:5,children:[(0,a.jsx)(p.l,{htmlFor:"contactName",fontWeight:"300",children:"Contact Name"}),(0,a.jsx)(h.I,{id:"contactName",...O("contactName"),placeholder:"Juan Dela Cruz",fontWeight:"300"}),(0,a.jsx)(f.J1,{children:U.contactName&&U.contactName.message})]}),(0,a.jsxs)(m.NI,{isInvalid:!!(null==U?void 0:U.contactNumber),mb:5,children:[(0,a.jsx)(p.l,{htmlFor:"contactNumber",fontWeight:"300",children:"Contact Number"}),(0,a.jsx)(h.I,{id:"contactNumber",...O("contactNumber"),placeholder:"",type:"number",fontWeight:"300"}),(0,a.jsx)(f.J1,{children:U.contactNumber&&U.contactNumber.message})]}),(0,a.jsxs)(m.NI,{isInvalid:!!(null==U?void 0:U.email),mb:5,children:[(0,a.jsx)(p.l,{htmlFor:"email",fontWeight:"300",children:"Email"}),(0,a.jsx)(h.I,{id:"email",...O("email"),placeholder:"juandelacruz@gmail.com",type:"email",fontWeight:"300"}),(0,a.jsx)(f.J1,{children:U.email&&U.email.message})]}),(0,a.jsxs)(m.NI,{isInvalid:!!(null==U?void 0:U.remarks),mb:5,children:[(0,a.jsx)(p.l,{htmlFor:"remarks",fontWeight:"300",children:"Remarks"}),(0,a.jsx)(C,{id:"remarks",...O("remarks"),fontWeight:"300"}),(0,a.jsx)(f.J1,{children:U.remarks&&U.remarks.message})]})]}),(0,a.jsxs)(y.m,{justifyContent:"space-between",children:[(0,a.jsx)(_.k,{children:(0,a.jsx)(T.p,{onClick:()=>j(null==v?void 0:v._id),color:"red.500",cursor:"pointer"})}),(0,a.jsxs)(_.k,{children:[(0,a.jsx)(E.z,{variant:"outline",mr:3,onClick:r,children:"Cancel"}),(0,a.jsx)(E.z,{type:"submit",colorScheme:"teal",children:x?"Update":"Create"})]})]})]})]})})}},662:function(e,t,r){"use strict";r.d(t,{Hp:function(){return l},PU:function(){return n},SJ:function(){return s},eL:function(){return c}});var a=r(9457);let i=a.h.injectEndpoints({endpoints:e=>({createSupplier:e.mutation({query:e=>({url:"supplier/api/createSupplier",method:"POST",data:e}),invalidatesTags:["Supplier"]}),getAllSuppliers:e.query({query:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{url:"supplier/api/getAllSuppliers".concat(e),method:"GET"}},transformResponse:(e,t,r)=>e.data,providesTags:["Supplier"]}),updateSupplier:e.mutation({query:e=>({url:"supplier/api/updateSupplier/".concat(e._id),method:"PUT",data:e}),invalidatesTags:["Supplier"]}),deleteSupplier:e.mutation({query:e=>({url:"supplier/api/deleteSupplier/".concat(e),method:"DELETE"}),invalidatesTags:["Supplier"]})})}),{useCreateSupplierMutation:n,useGetAllSuppliersQuery:s,useUpdateSupplierMutation:l,useDeleteSupplierMutation:c}=i},4027:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var a=r(6948),i=r(6554),n=r(7294),s=r(5893);function l(e){let{viewBox:t="0 0 24 24",d:r,displayName:l,defaultProps:c={}}=e,o=n.Children.toArray(e.path),u=(0,i.G)((e,i)=>(0,s.jsx)(a.J,{ref:i,viewBox:t,...c,...e,children:o.length?o:(0,s.jsx)("path",{fill:"currentColor",d:r})}));return u.displayName=l,u}},5527:function(e,t,r){"use strict";r.d(t,{p:function(){return n}});var a=r(4027),i=r(5893),n=(0,a.I)({displayName:"DeleteIcon",path:(0,i.jsx)("g",{fill:"currentColor",children:(0,i.jsx)("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"})})})},7963:function(e,t,r){"use strict";r.d(t,{p:function(){return l}});var a=r(1089),i=r(3988),n=r(7634),s=r(7294);function l(e){let{theme:t}=(0,n.uP)(),r=(0,a.OX)();return(0,s.useMemo)(()=>(0,i.Cj)(t.direction,{...r,...e}),[e,t.direction,r])}}},function(e){e.O(0,[471,774,888,179],function(){return e(e.s=2028)}),_N_E=e.O()}]);