(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[686],{5954:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/report",function(){return t(8076)}])},9762:function(e,r,t){"use strict";t.r(r);var c=t(5893),s=t(1971),n=t(5130),i=t(4659),o=t(1293),a=t(3717),d=t(7294),l=t(2167),u=t(333),h=t(2622),x=t(4123),j=t(5118);let w=e=>{let r=(0,l.Z)(new Date(e),"MMM dd, yyyy h:mma");return r};r.default=()=>{let[e,r]=(0,d.useState)({page:1,limit:20}),[t,l]=(0,d.useState)({sortDirection:"none",accessor:"",direction:""}),m=(0,n.L)({...e}),{data:f,refetch:p,isFetching:y,isLoading:D}=(0,i.F)(m),[g]=(0,u.tu)(),C=async()=>{try{let{data:e}=await g({data:null==f?void 0:f.productSold,query:m});(0,h.Z)(e,"product_sold")}catch(e){console.log("Error",e)}},_=[{Header:"TRN",accessor:"transactionSku",width:150,sortDirection:"transactionSku"===t.accessor?t.direction:"none"},{Header:"SKU",accessor:"sku",width:150,sortDirection:"sku"===t.accessor?t.direction:"none"},{Header:"Product",accessor:"name",width:150,sortDirection:"name"===t.accessor?t.direction:"none"},{Header:()=>(0,c.jsx)(o.x,{children:"Price per unit"}),accessor:"price",width:150,Cell:e=>{let{cell:{value:r}}=e,t=parseFloat(r).toFixed(2);return(0,c.jsx)(o.x,{children:"₱"+t})},sortDirection:"price"===t.accessor?t.direction:"none"},{Header:"Unit",accessor:"unit",width:100,sortDirection:"unit"===t.accessor?t.direction:"none"},{Header:()=>(0,c.jsx)(o.x,{children:"Qty"}),accessor:"quantity",width:80,Cell:e=>{let{cell:{value:r}}=e;return(0,c.jsx)(o.x,{children:r})},sortDirection:"quantity"===t.accessor?t.direction:"none"},{Header:()=>(0,c.jsx)(o.x,{children:"Total"}),accessor:"total",width:150,Cell:e=>{let{cell:{value:r}}=e,t=parseFloat(r).toFixed(2);return(0,c.jsx)(o.x,{children:"₱"+t})},sortDirection:"total"===t.accessor?t.direction:"none"},{Header:()=>(0,c.jsx)(o.x,{children:"Cashier"}),accessor:"cashierName",width:120,Cell:e=>{let{cell:{value:r}}=e;return(0,c.jsx)(o.x,{children:r||"-"})},sortDirection:"cashierName"===t.accessor?t.direction:"none"},{Header:()=>(0,c.jsx)(o.x,{children:"Customer"}),accessor:"customerName",width:120,Cell:e=>{let{cell:{value:r}}=e;return(0,c.jsx)(o.x,{children:r||"-"})},sortDirection:"customerName"===t.accessor?t.direction:"none"},{Header:()=>(0,c.jsx)(o.x,{children:"Purchase Date"}),accessor:"createdAt",width:150,Cell:e=>{let{cell:{value:r}}=e;return(0,c.jsx)(o.x,{children:w(r)})},sortDirection:"createdAt"===t.accessor?t.direction:"none"}];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(a.k,{mb:4,alignItems:"center",justifyContent:"space-between",children:[(0,c.jsx)(j.default,{handleDownload:C}),(0,c.jsx)(x.default,{filters:e,setFilters:r})]}),(0,c.jsx)(s.Z,{columns:_,data:(null==f?void 0:f.productSold)||[],count:null==f?void 0:f.count,isLoading:D,currentPage:null==e?void 0:e.page,onPageChange:t=>{r({...e,page:t}),p()},onSortChange:t=>{switch(t.sortDirection){case"none":l({direction:"asc",accessor:t.id}),r({...e,sortBy:t.id,sortOrder:"asc"});break;case"asc":l({direction:"desc",accessor:t.id}),r({...e,sortBy:t.id,sortOrder:"desc"});break;case"desc":l({direction:"none",accessor:t.id}),r({...e,sortBy:"",sortOrder:""})}}})]})}},8076:function(e,r,t){"use strict";t.r(r);var c=t(5893),s=t(959),n=t(4461),i=t(4124),o=t(4028),a=t(889);t(7294);var d=t(9762),l=t(8489),u=t(9008),h=t.n(u);r.default=()=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(h(),{children:(0,c.jsx)("title",{children:"Reports"})}),(0,c.jsxs)(s.m,{colorScheme:"teal",children:[(0,c.jsxs)(n.t,{children:[(0,c.jsx)(i.O,{fontWeight:"300",children:"Product Sold"}),(0,c.jsx)(i.O,{fontWeight:"300",children:"Transaction History"})]}),(0,c.jsxs)(o.n,{children:[(0,c.jsx)(a.x,{children:(0,c.jsx)(d.default,{})}),(0,c.jsx)(a.x,{children:(0,c.jsx)(l.default,{})})]})]})]})}},function(e){e.O(0,[776,815,525,489,774,888,179],function(){return e(e.s=5954)}),_N_E=e.O()}]);