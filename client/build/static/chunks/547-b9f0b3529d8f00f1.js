"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[547],{6105:function(e,s,l){l.d(s,{Dl:function(){return n},bd:function(){return i},uJ:function(){return r}});let i=["Concrete and Masonry","Roofing Materials","Drywall and Accessories","Builders' Hardware","Caulks and Sealants","Insulation"],n=[{name:"Piece"},{name:"Pack"},{name:"Box"},{name:"Roll"},{name:"Sheet"},{name:"Set"},{name:"Bundle"},{name:"Gallon"},{name:"Pound"},{name:"Foot"}],r=[{name:"Admin"},{name:"Cashier"}]},547:function(e,s,l){l.r(s),l.d(s,{default:function(){return y}});var i=l(5893),n=l(7294),r=l(7963),a=l(5083),t=l(9778),o=l(5335),d=l(6205),c=l(4859),m=l(4346),u=l(5970),h=l(5418),f=l(6479),x=l(4203),p=l(1731),j=l(4253),v=l(3717),b=l(4225),g=l(7533),_=l(6310);let N=_.Ry().shape({username:_.Z_().required("Username is required").max(30,"Username must be less than 30 characters!"),password:_.Z_().max(20,"Password be less than 20 characters!"),email:_.Z_(),firstname:_.Z_().required("First name is required").max(30,"First name must be less than 30 characters!"),lastname:_.Z_().max(30,"Last name must be less than 30 characters!"),role:_.Z_().required("Role is required"),mobileNumber:_.Z_().optional()});var I=l(7536),w=l(2581),C=l(5527),S=l(6105),y=e=>{let{isOpen:s,onClose:l,isEdit:_,editData:y,deleteUser:k}=e,[E,{isSuccess:W,isError:q,error:F}]=(0,w.Bl)(),[J,{isSuccess:R,isError:P,error:Z}]=(0,w.kD)(),U=(0,r.p)(),{handleSubmit:z,register:B,reset:D,setValue:L,formState:{errors:M}}=(0,I.cI)({resolver:(0,g.X)(N)});(0,n.useEffect)(()=>{if(_&&y){let{username:e,email:s,role:l,firstname:i,lastname:n,mobileNumber:r}=y;L("username",e),L("email",s),L("role",l),L("firstname",i),L("lastname",n),L("mobileNumber",r)}else D()},[_,y,L,D]),(0,n.useEffect)(()=>{if(W&&U({title:"Success",variant:"left-accent",status:"success",position:"top",isClosable:!0}),q){var e,s;U({title:null==F?void 0:null===(s=F.data)||void 0===s?void 0:null===(e=s.response)||void 0===e?void 0:e.message,variant:"left-accent",status:"error",position:"top",isClosable:!0})}},[W,q,F,U]),(0,n.useEffect)(()=>{if(R&&U({title:"Success",variant:"left-accent",status:"success",position:"top",isClosable:!0}),P){var e,s;U({title:null==Z?void 0:null===(s=Z.data)||void 0===s?void 0:null===(e=s.response)||void 0===e?void 0:e.message,variant:"left-accent",status:"error",position:"top",isClosable:!0})}},[R,P,Z,U]),(0,n.useEffect)(()=>{_&&R&&(l(),D())},[_,R,l,D]),(0,n.useEffect)(()=>{!_&&W&&(l(),D())},[_,W,l,D]);let A=async e=>{_?await J({...e,_id:null==y?void 0:y._id}):await E(e)};return(0,i.jsx)(a.d,{isOpen:s,placement:"right",onClose:()=>{_||D(),l()},children:(0,i.jsxs)("form",{onSubmit:z(A),children:[(0,i.jsx)(t.Z,{}),(0,i.jsxs)(o.s,{children:[(0,i.jsx)(d.o,{}),(0,i.jsx)(c.x,{fontWeight:"400",children:_?"Update User":"Create User"}),(0,i.jsxs)(m.f,{children:[(0,i.jsxs)(u.NI,{isInvalid:!!(null==M?void 0:M.username),mb:5,isRequired:!0,children:[(0,i.jsx)(h.l,{htmlFor:"username",fontWeight:"300",children:"Username"}),(0,i.jsx)(f.I,{id:"username",...B("username"),placeholder:"username",fontWeight:"300"}),(0,i.jsx)(x.J1,{children:M.username&&M.username.message})]}),(0,i.jsxs)(u.NI,{isInvalid:!!(null==M?void 0:M.password),mb:5,isDisabled:_,isRequired:!_,children:[(0,i.jsx)(h.l,{htmlFor:"password",fontWeight:"300",children:"Password"}),(0,i.jsx)(f.I,{id:"password",...B("password"),placeholder:"********",fontWeight:"300",type:"password"}),(0,i.jsx)(x.J1,{children:M.password&&M.password.message})]}),(0,i.jsxs)(u.NI,{isInvalid:!!(null==M?void 0:M.firstname),mb:5,isRequired:!0,children:[(0,i.jsx)(h.l,{htmlFor:"firstname",fontWeight:"300",children:"First name"}),(0,i.jsx)(f.I,{id:"firstname",...B("firstname"),placeholder:"Juan",fontWeight:"300"}),(0,i.jsx)(x.J1,{children:M.firstname&&M.firstname.message})]}),(0,i.jsxs)(u.NI,{isInvalid:!!(null==M?void 0:M.lastname),mb:5,children:[(0,i.jsx)(h.l,{htmlFor:"lastname",fontWeight:"300",children:"Last Name"}),(0,i.jsx)(f.I,{id:"lastname",...B("lastname"),placeholder:"Dela Cruz",fontWeight:"300"}),(0,i.jsx)(x.J1,{children:M.lastname&&M.lastname.message})]}),(0,i.jsxs)(u.NI,{isInvalid:!!(null==M?void 0:M.email),mb:5,isRequired:!0,children:[(0,i.jsx)(h.l,{htmlFor:"email",fontWeight:"300",children:"Email"}),(0,i.jsx)(f.I,{id:"email",type:"email",...B("email"),placeholder:"juan@gmail.com",fontWeight:"300"}),(0,i.jsx)(x.J1,{children:M.email&&M.email.message})]}),(0,i.jsxs)(u.NI,{isInvalid:!!(null==M?void 0:M.mobileNumber),mb:5,isRequired:!0,children:[(0,i.jsx)(h.l,{htmlFor:"mobileNumber",fontWeight:"300",children:"Mobile Number"}),(0,i.jsx)(f.I,{id:"mobileNumber",...B("mobileNumber"),type:"number",fontWeight:"300"}),(0,i.jsx)(x.J1,{children:M.mobileNumber&&M.mobileNumber.message})]}),(0,i.jsxs)(u.NI,{isInvalid:!!(null==M?void 0:M.role),mb:5,isRequired:!0,children:[(0,i.jsx)(h.l,{htmlFor:"role",fontWeight:"300",children:"Role"}),(0,i.jsx)(p.P,{id:"role",placeholder:"Select role",...B("role"),fontWeight:"300",children:null===S.uJ||void 0===S.uJ?void 0:S.uJ.map((e,s)=>(0,i.jsx)("option",{value:e.name,children:e.name},s))}),(0,i.jsx)(x.J1,{children:M.role&&M.role.message})]})]}),(0,i.jsxs)(j.m,{justifyContent:"space-between",children:[(0,i.jsx)(v.k,{children:(null==y?void 0:y.role)!=="Super Admin"&&(0,i.jsx)(C.p,{onClick:()=>k(null==y?void 0:y._id),color:"red.500",cursor:"pointer"})}),(0,i.jsxs)(v.k,{children:[(0,i.jsx)(b.z,{variant:"outline",mr:3,onClick:l,children:"Cancel"}),(0,i.jsx)(b.z,{type:"submit",colorScheme:"teal",children:_?"Update":"Create"})]})]})]})]})})}},1731:function(e,s,l){l.d(s,{P:function(){return u}});var i=l(5432),n=l(6554),r=l(6914),a=l(5893),t=(0,n.G)(function(e,s){let{children:l,placeholder:n,className:t,...o}=e;return(0,a.jsxs)(r.m.select,{...o,ref:s,className:(0,i.cx)("chakra-select",t),children:[n&&(0,a.jsx)("option",{value:"",children:n}),l]})});t.displayName="SelectField";var o=l(8912),d=l(7030),c=l(3179),m=l(7294),u=(0,n.G)((e,s)=>{var l;let n=(0,d.jC)("Select",e),{rootProps:m,placeholder:u,icon:h,color:f,height:p,h:j,minH:v,minHeight:b,iconColor:g,iconSize:_,...N}=(0,c.Lr)(e),[I,w]=function(e,s){let l={},i={};for(let[n,r]of Object.entries(e))s.includes(n)?l[n]=r:i[n]=r;return[l,i]}(N,c.oE),C=(0,o.Y)(w),S={paddingEnd:"2rem",...n.field,_focus:{zIndex:"unset",...null==(l=n.field)?void 0:l._focus}};return(0,a.jsxs)(r.m.div,{className:"chakra-select__wrapper",__css:{width:"100%",height:"fit-content",position:"relative",color:f},...I,...m,children:[(0,a.jsx)(t,{ref:s,height:null!=j?j:p,minH:null!=v?v:b,placeholder:u,...C,__css:S,children:e.children}),(0,a.jsx)(x,{"data-disabled":(0,i.PB)(C.disabled),...(g||f)&&{color:g||f},__css:n.icon,..._&&{fontSize:_},children:h})]})});u.displayName="Select";var h=e=>(0,a.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),f=(0,r.m)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),x=e=>{let{children:s=(0,a.jsx)(h,{}),...l}=e,i=(0,m.cloneElement)(s,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,a.jsx)(f,{...l,className:"chakra-select__icon-wrapper",children:(0,m.isValidElement)(s)?i:null})};x.displayName="SelectIcon"}}]);