"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[65],{1971:function(e,t,n){n.d(t,{Z:function(){return S}});var r=n(5893),i=n(7294),o=n(9521),l=n(7747),a=n(1136),s=n(1557),c=n(991),d=n(9840),u=n(510),h=n(4693),p=n(3717),x=n(5115),m=n(4698),f=n(1293),g=n(6948),j=n(6914),v=e=>{let{active:t,disabled:n,children:i,onClick:o}=e,l={bg:"brand.600",_dark:{bg:"brand.500"},color:"gray.200"};return(0,r.jsx)(j.m.button,{mx:1,px:4,py:2,rounded:"md",bg:"white",_dark:{bg:"gray.800"},color:"gray.700",onClick:o,opacity:n&&.6,_hover:!n&&l,cursor:n&&"not-allowed",disabled:n,...t&&l,children:i})},y=n(8193),C=n(6147),b=n(7640);let w={pageSize:20};var S=e=>{let{columns:t,data:n,isLoading:j,count:S=0,currentPage:k,onPageChange:E,onSortChange:I}=e,P=(0,i.useMemo)(()=>n,[n]),_=(0,i.useMemo)(()=>t,[t]),{getTableProps:D,getTableBodyProps:q,headers:W,rows:z,prepareRow:T,page:A,canPreviousPage:G,canNextPage:N,pageCount:L,pageOptions:R,gotoPage:B,state:{pageIndex:H,pageSize:F}}=(0,o.useTable)({columns:_,data:P,initialState:w,pageCount:S,manualPagination:!0,manualSortBy:!0,sortDescFirst:!0,defaultColumn:{width:"auto"}},o.useSortBy,o.usePagination);return(0,i.useEffect)(()=>{k!==H+1&&(B(0),E(1))},[k,H,E,B]),(0,r.jsxs)(r.Fragment,{children:[j?(0,r.jsx)(l.xu,{textAlign:"center",my:30,children:(0,r.jsx)(a.$,{thickness:"3px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"})}):(0,r.jsx)(s.x,{overflowX:"auto",overflowY:"auto",maxH:"75vh",borderWidth:1,children:(0,r.jsxs)(c.i,{layout:"fixed",variant:"simple",colorScheme:"gray",fontWeight:"300",...D(),children:[(0,r.jsx)(d.h,{backgroundColor:"gray.300",position:"sticky",top:0,zIndex:1,children:(0,r.jsx)(u.Tr,{children:W.map((e,t)=>(0,i.createElement)(h.Th,{...(e.getHeaderProps(e.getSortByToggleProps()),{style:{width:e.width,whiteSpace:"pre-line"}}),onClick:()=>I(e),key:t},(0,r.jsxs)(p.k,{alignItems:"center",children:[e.render("Header"),"asc"===e.sortDirection?(0,r.jsx)(C.v,{}):"desc"===e.sortDirection?(0,r.jsx)(b.g,{}):null]})))})}),(0,r.jsx)(x.p,{...q(),children:A.map((e,t)=>(T(e),(0,i.createElement)(u.Tr,{...e.getRowProps(),key:t},e.cells.map((e,t)=>(0,i.createElement)(m.Td,{...e.getCellProps({style:{width:e.column.width,whiteSpace:"pre-line"}}),key:t},e.render("Cell"))))))})]})}),(null==n?void 0:n.length)==0&&(0,r.jsx)(f.x,{my:4,textAlign:"center",fontWeight:"300",children:"No Data Found"}),(0,r.jsxs)(p.k,{p:5,w:"full",alignItems:"center",justifyContent:"space-between",flexDirection:{base:"column",md:"row"},children:[(0,r.jsx)(p.k,{children:(0,r.jsxs)(f.x,{fontWeight:"300",children:["Total of ",S," items"]})}),(0,r.jsxs)(p.k,{alignItems:"center",justifyContent:"center",children:[(0,r.jsx)(v,{onClick:()=>{if(G){let e=H>0?H-1:0;E(e+1),B(e)}},disabled:!G,children:(0,r.jsx)(g.J,{as:y.CF5,color:"gray.700",_dark:{color:"gray.200"},boxSize:4,disabled:!G})}),(0,r.jsx)(f.x,{fontWeight:"300",mx:5,children:j?"...":"Page ".concat(H+1," of ").concat(0===Math.ceil(S/F)?1:Math.ceil(S/F))}),(0,r.jsx)(v,{onClick:()=>{if(N){let e=H+1<L?H+1:H;E(e+1),B(e)}},disabled:H+1===Math.ceil(S/F),children:(0,r.jsx)(g.J,{as:y.Td4,color:"gray.700",_dark:{color:"gray.200"},boxSize:4})})]})]})]})}},6105:function(e,t,n){n.d(t,{Dl:function(){return i},bd:function(){return r},uJ:function(){return o}});let r=["Concrete and Masonry","Roofing Materials","Drywall and Accessories","Builders' Hardware","Caulks and Sealants","Insulation"],i=[{name:"Piece"},{name:"Pack"},{name:"Box"},{name:"Roll"},{name:"Sheet"},{name:"Set"},{name:"Bundle"},{name:"Gallon"},{name:"Pound"},{name:"Foot"}],o=[{name:"Admin"},{name:"Cashier"}]},5130:function(e,t,n){n.d(t,{L:function(){return r}});let r=e=>{var t;let{...n}=e,r={...n,...(null==n?void 0:n.page)&&{page:null==n?void 0:null===(t=n.page)||void 0===t?void 0:t.toString()}},i="?"+new URLSearchParams(r).toString();return i}},8065:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(5893),i=n(1971),o=n(5130),l=n(2724),a=n(967),s=n(307),c=n(1293),d=n(9993),u=n(5281),h=n(2140),p=n(2735),x=n(6479),m=(0,n(6554).G)((e,t)=>(0,r.jsx)(u.K,{align:"center",...e,direction:"row",ref:t}));m.displayName="HStack";var f=n(7294),g=n(8193),j=n(8745),v=n(2167),y=n(2261),C=n(6105),b=()=>{let[e,t]=(0,f.useState)(""),[n,b]=(0,f.useState)(),[w,S]=(0,f.useState)({page:1,limit:20}),[k,E]=(0,f.useState)({sortDirection:"none",accessor:"",direction:""}),I=(0,o.L)({...w}),{data:P,refetch:_,isFetching:D,isLoading:q}=(0,l.Jy)(I),{isOpen:W,onClose:z,onOpen:T}=(0,a.q)(),{getRootProps:A,getRadioProps:G}=(0,s.a)({name:"category",defaultValue:"All",onChange:e=>{S({...w,category:e})}}),N=A(),L=[{Header:()=>(0,r.jsx)(c.x,{textAlign:"center",children:"Action"}),accessor:"_id",width:60,Cell:e=>{let{cell:{value:t}}=e;return(0,r.jsx)(d.h,{size:"xs",ml:2,variant:"none",icon:(0,r.jsx)(g.nxQ,{color:"teal"}),colorScheme:"teal","aria-label":"Add to Cart",cursor:"pointer",onClick:()=>R(t),fontSize:25})}},{Header:"Name",accessor:"name",sortDirection:"name"===k.accessor?k.direction:"none",width:150},{Header:"Description",accessor:"description",Cell:e=>{let{cell:{value:t}}=e;return(0,r.jsx)(c.x,{children:t||"-"})},sortDirection:"description"===k.accessor?k.direction:"none",width:150},{Header:()=>(0,r.jsx)(c.x,{children:"Price per unit"}),accessor:"price",Cell:e=>{let{cell:{value:t}}=e,n=parseFloat(t).toFixed(2);return(0,r.jsx)(c.x,{children:"₱"+n})},sortDirection:"price"===k.accessor?k.direction:"none",width:150},{Header:"Unit",accessor:"unit",sortDirection:"unit"===k.accessor?k.direction:"none",width:100}],R=e=>{var t;let n=null==P?void 0:null===(t=P.products)||void 0===t?void 0:t.find(t=>t._id===e);T(),b(n)},B=()=>{t(""),S({...w,search:""}),_()};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.K,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[(0,r.jsx)(c.x,{fontWeight:"300",fontSize:30,children:(0,v.Z)(new Date,"EEEE, hh:mm a")}),(0,r.jsxs)(h.B,{w:"100%",maxWidth:{base:"100%",sm:"18.75em"},mb:{base:2,sm:0},children:[(0,r.jsx)(p.Z,{cursor:"pointer",onClick:t=>{S({...w,search:e,page:1}),_()},children:(0,r.jsx)(g.RB5,{})}),(0,r.jsx)(x.I,{value:e||"",onChange:e=>t(e.target.value),onKeyDown:t=>{"Enter"===t.key&&(S({...w,search:e,page:1}),_())},type:"text",placeholder:"Search..."}),(0,r.jsx)(p.x,{cursor:"pointer",onClick:B,children:(0,r.jsx)(g.oHP,{})})]})]}),(0,r.jsx)(m,{...N,mb:4,overflowX:"auto",css:{"&::-webkit-scrollbar":{display:"none"}},children:["All",...C.bd].map(e=>{let t=G({value:e});return(0,r.jsx)(y.default,{...t,children:e},e)})}),(0,r.jsx)(i.Z,{columns:L,data:(null==P?void 0:P.products)||[],count:null==P?void 0:P.count,isLoading:q,currentPage:null==w?void 0:w.page,onPageChange:e=>{S({...w,page:e}),_()},onSortChange:e=>{switch(e.sortDirection){case"none":E({direction:"asc",accessor:e.id}),S({...w,sortBy:e.id,sortOrder:"asc"});break;case"asc":E({direction:"desc",accessor:e.id}),S({...w,sortBy:e.id,sortOrder:"desc"});break;case"desc":E({direction:"none",accessor:e.id}),S({...w,sortBy:"",sortOrder:""})}}}),(0,r.jsx)(j.default,{isOpen:W,onClose:z,productData:n,searchReset:B})]})}},2261:function(e,t,n){n.r(t);var r=n(5893),i=n(4903),o=n(7747);t.default=e=>{let{getInputProps:t,getRadioProps:n}=(0,i.x)(e),l=t(),a=n();return(0,r.jsxs)(o.xu,{as:"label",children:[(0,r.jsx)("input",{...l}),(0,r.jsx)(o.xu,{...a,fontWeight:"300",cursor:"pointer",whiteSpace:"nowrap",borderWidth:"1px",borderRadius:"md",boxShadow:"md",_checked:{bg:"teal.500",color:"white",borderColor:"teal.500"},_focus:{},px:3,py:1,children:e.children})]})}},8745:function(e,t,n){n.r(t);var r=n(5893),i=n(5102),o=n(3792),l=n(5541),a=n(9778),s=n(4581),c=n(6205),d=n(4346),u=n(5281),h=n(1293),p=n(4880),x=n(8580),m=n(4253),f=n(4225),g=n(7294);t.default=e=>{let{isOpen:t,productData:n,onClose:j,searchReset:v}=e,y=(0,i.TL)(),{cart:C}=(0,i.CG)(e=>e.cart),[b,w]=(0,g.useState)(1),S=C.find(e=>e._id===(null==n?void 0:n._id)),k=((null==n?void 0:n.quantity)||0)-((null==S?void 0:S.quantity)||0);return(0,g.useEffect)(()=>{w(1)},[t]),(0,g.useEffect)(()=>{((null==n?void 0:n.quantity)||1)<=b&&w((null==n?void 0:n.quantity)||1),b>k&&w(k||1)},[k,null==n?void 0:n.quantity,b]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(l.u_,{isCentered:!0,onClose:j,isOpen:t,motionPreset:"slideInBottom",children:[(0,r.jsx)(a.Z,{}),(0,r.jsxs)(s.h,{children:[(0,r.jsx)(c.o,{}),(0,r.jsx)(d.f,{children:(0,r.jsxs)(u.K,{fontWeight:"500",pt:4,children:[(0,r.jsxs)(h.x,{children:["Product:"," ",(0,r.jsx)(h.x,{as:"span",fontWeight:"300",children:null==n?void 0:n.name})," "]}),(0,r.jsxs)(h.x,{children:["Description:"," ",(0,r.jsx)(h.x,{as:"span",fontWeight:"300",children:(null==n?void 0:n.description)?null==n?void 0:n.description:"-"})]}),(0,r.jsxs)(h.x,{children:["Price:"," ",(0,r.jsxs)(h.x,{as:"span",fontWeight:"300",children:["₱",null==n?void 0:n.price]})]}),(0,r.jsxs)(h.x,{children:["Stock/s:"," ",(0,r.jsx)(h.x,{as:"span",fontWeight:"300",color:k/((null==n?void 0:n.quantity)||1)<=.1?"red":"",children:k>0?"".concat(k," items left"):"Out of Stock"})]}),(0,r.jsxs)(h.x,{children:["Unit:"," ",(0,r.jsx)(h.x,{as:"span",fontWeight:"300",children:null==n?void 0:n.unit})]}),(0,r.jsxs)(h.x,{children:["Category:"," ",(0,r.jsx)(p.C,{variant:"outline",colorScheme:"teal",children:null==n?void 0:n.category})]}),(0,r.jsx)(h.x,{children:"Quantity: "}),(0,r.jsxs)(x.Y2,{isDisabled:((null==n?void 0:n.quantity)||0)<b,defaultValue:1,min:0,value:b,onChange:(e,t)=>{w(t||0)},children:[(0,r.jsx)(x.zu,{id:"quantity",fontWeight:"300",value:b,onChange:e=>w(parseInt(e.target.value)||0),placeholder:"Enter Quantity"}),(0,r.jsxs)(x.Fi,{children:[(0,r.jsx)(x.WQ,{}),(0,r.jsx)(x.Y_,{})]})]})]})}),(0,r.jsxs)(m.m,{children:[(0,r.jsx)(f.z,{fontWeight:"300",variant:"solid",mr:3,onClick:j,children:"Cancel"}),(0,r.jsx)(f.z,{fontWeight:"300",colorScheme:"teal",onClick:()=>{y((0,o.Xq)({...n,quantity:b,total:b*((null==n?void 0:n.price)||0)})),w(1),v(),j()},isDisabled:((null==n?void 0:n.quantity)||b)<(null==S?void 0:S.quantity)+1||(null==n?void 0:n.quantity)===0,children:"Add to Cart"})]})]})]})})}},2724:function(e,t,n){n.d(t,{Jy:function(){return l},qX:function(){return o},wE:function(){return a},xq:function(){return s}});var r=n(9457);let i=r.h.injectEndpoints({endpoints:e=>({createProduct:e.mutation({query:e=>({url:"product/api/createProduct",method:"POST",data:e}),invalidatesTags:["Product"]}),getAllProducts:e.query({query:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{url:"product/api/getAllProducts".concat(e),method:"GET"}},transformResponse:(e,t,n)=>e.data,providesTags:["Product","Transaction"]}),updateProduct:e.mutation({query:e=>({url:"product/api/updateProduct/".concat(e._id),method:"PUT",data:e}),invalidatesTags:["Product"]}),deleteProduct:e.mutation({query:e=>({url:"product/api/deleteProduct/".concat(e),method:"DELETE"}),invalidatesTags:["Product"]})})}),{useCreateProductMutation:o,useGetAllProductsQuery:l,useUpdateProductMutation:a,useDeleteProductMutation:s}=i},4027:function(e,t,n){n.d(t,{I:function(){return a}});var r=n(6948),i=n(6554),o=n(7294),l=n(5893);function a(e){let{viewBox:t="0 0 24 24",d:n,displayName:a,defaultProps:s={}}=e,c=o.Children.toArray(e.path),d=(0,i.G)((e,i)=>(0,l.jsx)(r.J,{ref:i,viewBox:t,...s,...e,children:c.length?c:(0,l.jsx)("path",{fill:"currentColor",d:n})}));return d.displayName=a,d}},7640:function(e,t,n){n.d(t,{g:function(){return r}});var r=(0,n(4027).I)({d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z",displayName:"ChevronUpIcon"})},6147:function(e,t,n){n.d(t,{v:function(){return r}});var r=(0,n(4027).I)({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})},2735:function(e,t,n){n.d(t,{Z:function(){return d},x:function(){return u}});var r=n(2140),i=n(6914),o=n(6554),l=n(5432),a=n(5893),s=(0,i.m)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),c=(0,o.G)(function(e,t){var n,i;let{placement:o="left",...l}=e,c=(0,r.m)(),d=c.field,u={["left"===o?"insetStart":"insetEnd"]:"0",width:null!=(n=null==d?void 0:d.height)?n:null==d?void 0:d.h,height:null!=(i=null==d?void 0:d.height)?i:null==d?void 0:d.h,fontSize:null==d?void 0:d.fontSize,...c.element};return(0,a.jsx)(s,{ref:t,__css:u,...l})});c.id="InputElement",c.displayName="InputElement";var d=(0,o.G)(function(e,t){let{className:n,...r}=e,i=(0,l.cx)("chakra-input__left-element",n);return(0,a.jsx)(c,{ref:t,placement:"left",className:i,...r})});d.id="InputLeftElement",d.displayName="InputLeftElement";var u=(0,o.G)(function(e,t){let{className:n,...r}=e,i=(0,l.cx)("chakra-input__right-element",n);return(0,a.jsx)(c,{ref:t,placement:"right",className:i,...r})});u.id="InputRightElement",u.displayName="InputRightElement"},2140:function(e,t,n){n.d(t,{B:function(){return m},m:function(){return x}});var r=n(5227),i=n(2495),o=n(6554),l=n(7030),a=n(3179),s=n(6914),c=n(5432),d=n(7052),u=n(7294),h=n(5893),[p,x]=(0,r.k)({name:"InputGroupStylesContext",errorMessage:"useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<InputGroup />\" "}),m=(0,o.G)(function(e,t){let n=(0,l.jC)("Input",e),{children:r,className:o,...x}=(0,a.Lr)(e),m=(0,c.cx)("chakra-input__group",o),f={},g=(0,i.W)(r),j=n.field;g.forEach(e=>{var t,r;n&&(j&&"InputLeftElement"===e.type.id&&(f.paddingStart=null!=(t=j.height)?t:j.h),j&&"InputRightElement"===e.type.id&&(f.paddingEnd=null!=(r=j.height)?r:j.h),"InputRightAddon"===e.type.id&&(f.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(f.borderStartRadius=0))});let v=g.map(t=>{var n,r;let i=(0,d.o)({size:(null==(n=t.props)?void 0:n.size)||e.size,variant:(null==(r=t.props)?void 0:r.variant)||e.variant});return"Input"!==t.type.id?(0,u.cloneElement)(t,i):(0,u.cloneElement)(t,Object.assign(i,f,t.props))});return(0,h.jsx)(s.m.div,{className:m,ref:t,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...n.group},"data-group":!0,...x,children:(0,h.jsx)(p,{value:n,children:v})})});m.displayName="InputGroup"},9840:function(e,t,n){n.d(t,{h:function(){return a}});var r=n(991),i=n(6554),o=n(6914),l=n(5893),a=(0,i.G)((e,t)=>{let n=(0,r.p)();return(0,l.jsx)(o.m.thead,{...e,ref:t,__css:n.thead})})},4693:function(e,t,n){n.d(t,{Th:function(){return a}});var r=n(991),i=n(6554),o=n(6914),l=n(5893),a=(0,i.G)(({isNumeric:e,...t},n)=>{let i=(0,r.p)();return(0,l.jsx)(o.m.th,{...t,ref:n,__css:i.th,"data-is-numeric":e})})}}]);