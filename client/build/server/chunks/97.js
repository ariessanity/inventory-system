"use strict";exports.id=97,exports.ids=[97],exports.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,n){return n in t?t[n]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,n)):"function"==typeof t&&"default"===n?t:void 0}}})},5475:(e,t,n)=>{n.a(e,async(e,r)=>{try{n.d(t,{Z:()=>s});var a=n(997),o=n(2210),i=e([o]);o=(i.then?(await i)():i)[0];let s=({active:e,disabled:t,children:n,onClick:r})=>{let i={bg:"brand.600",_dark:{bg:"brand.500"},color:"gray.200"};return a.jsx(o.chakra.button,{mx:1,px:4,py:2,rounded:"md",bg:"white",_dark:{bg:"gray.800"},color:"gray.700",onClick:r,opacity:t&&.6,_hover:!t&&i,cursor:t&&"not-allowed",disabled:t,...e&&i,children:n})};r()}catch(e){r(e)}})},7993:(e,t,n)=>{n.a(e,async(e,r)=>{try{n.d(t,{Z:()=>x});var a=n(997),o=n(6689),i=n(2154),s=n(2210),c=n(5475),l=n(8193),d=n(6134),u=e([s,c,d]);[s,c,d]=u.then?(await u)():u;let h={pageSize:20},x=({columns:e,data:t,isLoading:n,count:r=0,currentPage:u,onPageChange:x,onSortChange:p})=>{let m=(0,o.useMemo)(()=>t,[t]),g=(0,o.useMemo)(()=>e,[e]),{getTableProps:j,getTableBodyProps:y,headers:f,rows:b,prepareRow:P,page:C,canPreviousPage:S,canNextPage:T,pageCount:w,pageOptions:k,gotoPage:v,state:{pageIndex:E,pageSize:D}}=(0,i.useTable)({columns:g,data:m,initialState:h,pageCount:r,manualPagination:!0,manualSortBy:!0,sortDescFirst:!0,defaultColumn:{width:"auto"}},i.useSortBy,i.usePagination);return(0,o.useEffect)(()=>{u!==E+1&&(v(0),x(1))},[u,E,x,v]),(0,a.jsxs)(a.Fragment,{children:[n?a.jsx(s.Box,{textAlign:"center",my:30,children:a.jsx(s.Spinner,{thickness:"3px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"})}):a.jsx(s.TableContainer,{overflowX:"auto",overflowY:"auto",maxH:"75vh",borderWidth:1,children:(0,a.jsxs)(s.Table,{layout:"fixed",variant:"simple",colorScheme:"gray",fontWeight:"300",...j(),children:[a.jsx(s.Thead,{backgroundColor:"gray.300",position:"sticky",top:0,zIndex:1,children:a.jsx(s.Tr,{children:f.map((e,t)=>(0,o.createElement)(s.Th,{...(e.getHeaderProps(e.getSortByToggleProps()),{style:{width:e.width,whiteSpace:"pre-line"}}),onClick:()=>p(e),key:t},(0,a.jsxs)(s.Flex,{alignItems:"center",children:[e.render("Header"),"asc"===e.sortDirection?a.jsx(d.ChevronDownIcon,{}):"desc"===e.sortDirection?a.jsx(d.ChevronUpIcon,{}):null]})))})}),a.jsx(s.Tbody,{...y(),children:C.map((e,t)=>(P(e),(0,o.createElement)(s.Tr,{...e.getRowProps(),key:t},e.cells.map((e,t)=>(0,o.createElement)(s.Td,{...e.getCellProps({style:{width:e.column.width,whiteSpace:"pre-line"}}),key:t},e.render("Cell"))))))})]})}),t?.length==0&&a.jsx(s.Text,{my:4,textAlign:"center",fontWeight:"300",children:"No Data Found"}),(0,a.jsxs)(s.Flex,{p:5,w:"full",alignItems:"center",justifyContent:"space-between",flexDirection:{base:"column",md:"row"},children:[a.jsx(s.Flex,{children:(0,a.jsxs)(s.Text,{fontWeight:"300",children:["Total of ",r," items"]})}),(0,a.jsxs)(s.Flex,{alignItems:"center",justifyContent:"center",children:[a.jsx(c.Z,{onClick:()=>{if(S){let e=E>0?E-1:0;x(e+1),v(e)}},disabled:!S,children:a.jsx(s.Icon,{as:l.CF5,color:"gray.700",_dark:{color:"gray.200"},boxSize:4,disabled:!S})}),a.jsx(s.Text,{fontWeight:"300",mx:5,children:n?"...":`Page ${E+1} of ${0===Math.ceil(r/D)?1:Math.ceil(r/D)}`}),a.jsx(c.Z,{onClick:()=>{if(T){let e=E+1<w?E+1:E;x(e+1),v(e)}},disabled:E+1===Math.ceil(r/D),children:a.jsx(s.Icon,{as:l.Td4,color:"gray.700",_dark:{color:"gray.200"},boxSize:4})})]})]})]})};r()}catch(e){r(e)}})},6105:(e,t,n)=>{n.d(t,{Dl:()=>a,bd:()=>r,uJ:()=>o});let r=["Concrete and Masonry","Roofing Materials","Drywall and Accessories","Builders' Hardware","Caulks and Sealants","Insulation"],a=[{name:"Piece"},{name:"Pack"},{name:"Box"},{name:"Roll"},{name:"Sheet"},{name:"Set"},{name:"Bundle"},{name:"Gallon"},{name:"Pound"},{name:"Foot"}],o=[{name:"Admin"},{name:"Cashier"}]},5130:(e,t,n)=>{n.d(t,{L:()=>r});let r=({...e})=>{let t={...e,...e?.page&&{page:e?.page?.toString()}},n="?"+new URLSearchParams(t).toString();return n}},1207:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Document});var r=n(997),a=n(6859);function Document(){return(0,r.jsxs)(a.Html,{lang:"en",children:[r.jsx(a.Head,{}),(0,r.jsxs)("body",{children:[r.jsx(a.Main,{}),r.jsx(a.NextScript,{})]})]})}},3719:(e,t,n)=>{n.a(e,async(e,r)=>{try{n.r(t),n.d(t,{default:()=>j});var a=n(997),o=n(7993),i=n(5130),s=n(2724),c=n(2210),l=n(6689),d=n(8193),u=n(8745),h=n(4384),x=n.n(h),p=n(2261),m=n(6105),g=e([o,s,c,u,p]);[o,s,c,u,p]=g.then?(await g)():g;let j=()=>{let[e,t]=(0,l.useState)(""),[n,r]=(0,l.useState)(),[h,g]=(0,l.useState)({page:1,limit:20}),[j,y]=(0,l.useState)({sortDirection:"none",accessor:"",direction:""}),f=(0,i.L)({...h}),{data:b,refetch:P,isFetching:C,isLoading:S}=(0,s.Jy)(f),{isOpen:T,onClose:w,onOpen:k}=(0,c.useDisclosure)(),{getRootProps:v,getRadioProps:E}=(0,c.useRadioGroup)({name:"category",defaultValue:"All",onChange:e=>{g({...h,category:e})}}),D=v(),A=[{Header:()=>a.jsx(c.Text,{textAlign:"center",children:"Action"}),accessor:"_id",width:60,Cell:({cell:{value:e}})=>a.jsx(c.IconButton,{size:"xs",ml:2,variant:"none",icon:a.jsx(d.nxQ,{color:"teal"}),colorScheme:"teal","aria-label":"Add to Cart",cursor:"pointer",onClick:()=>I(e),fontSize:25})},{Header:"Name",accessor:"name",sortDirection:"name"===j.accessor?j.direction:"none",width:150},{Header:"Description",accessor:"description",Cell:({cell:{value:e}})=>a.jsx(c.Text,{children:e||"-"}),sortDirection:"description"===j.accessor?j.direction:"none",width:150},{Header:()=>a.jsx(c.Text,{children:"Price per unit"}),accessor:"price",Cell:({cell:{value:e}})=>{let t=parseFloat(e).toFixed(2);return a.jsx(c.Text,{children:"₱"+t})},sortDirection:"price"===j.accessor?j.direction:"none",width:150},{Header:"Unit",accessor:"unit",sortDirection:"unit"===j.accessor?j.direction:"none",width:100}],I=e=>{let t=b?.products?.find(t=>t._id===e);k(),r(t)},B=()=>{t(""),g({...h,search:""}),P()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.Stack,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[a.jsx(c.Text,{fontWeight:"300",fontSize:30,children:x()(new Date,"EEEE, hh:mm a")}),(0,a.jsxs)(c.InputGroup,{w:"100%",maxWidth:{base:"100%",sm:"18.75em"},mb:{base:2,sm:0},children:[a.jsx(c.InputLeftElement,{cursor:"pointer",onClick:t=>{g({...h,search:e,page:1}),P()},children:a.jsx(d.RB5,{})}),a.jsx(c.Input,{value:e||"",onChange:e=>t(e.target.value),onKeyDown:t=>{"Enter"===t.key&&(g({...h,search:e,page:1}),P())},type:"text",placeholder:"Search..."}),a.jsx(c.InputRightElement,{cursor:"pointer",onClick:B,children:a.jsx(d.oHP,{})})]})]}),a.jsx(c.HStack,{...D,mb:4,overflowX:"auto",css:{"&::-webkit-scrollbar":{display:"none"}},children:["All",...m.bd].map(e=>{let t=E({value:e});return a.jsx(p.default,{...t,children:e},e)})}),a.jsx(o.Z,{columns:A,data:b?.products||[],count:b?.count,isLoading:S,currentPage:h?.page,onPageChange:e=>{g({...h,page:e}),P()},onSortChange:e=>{switch(e.sortDirection){case"none":y({direction:"asc",accessor:e.id}),g({...h,sortBy:e.id,sortOrder:"asc"});break;case"asc":y({direction:"desc",accessor:e.id}),g({...h,sortBy:e.id,sortOrder:"desc"});break;case"desc":y({direction:"none",accessor:e.id}),g({...h,sortBy:"",sortOrder:""})}}}),a.jsx(u.default,{isOpen:T,onClose:w,productData:n,searchReset:B})]})};r()}catch(e){r(e)}})},2261:(e,t,n)=>{n.a(e,async(e,r)=>{try{n.r(t),n.d(t,{default:()=>s});var a=n(997),o=n(2210),i=e([o]);o=(i.then?(await i)():i)[0];let s=e=>{let{getInputProps:t,getRadioProps:n}=(0,o.useRadio)(e),r=t(),i=n();return(0,a.jsxs)(o.Box,{as:"label",children:[a.jsx("input",{...r}),a.jsx(o.Box,{...i,fontWeight:"300",cursor:"pointer",whiteSpace:"nowrap",borderWidth:"1px",borderRadius:"md",boxShadow:"md",_checked:{bg:"teal.500",color:"white",borderColor:"teal.500"},_focus:{},px:3,py:1,children:e.children})]})};r()}catch(e){r(e)}})},8745:(e,t,n)=>{n.a(e,async(e,r)=>{try{n.r(t),n.d(t,{default:()=>d});var a=n(997),o=n(5102),i=n(3792),s=n(2210),c=n(6689),l=e([o,s]);[o,s]=l.then?(await l)():l;let d=({isOpen:e,productData:t,onClose:n,searchReset:r})=>{let l=(0,o.TL)(),{cart:d}=(0,o.CG)(e=>e.cart),[u,h]=(0,c.useState)(1),x=d.find(e=>e._id===t?._id),p=(t?.quantity||0)-(x?.quantity||0);return(0,c.useEffect)(()=>{h(1)},[e]),(0,c.useEffect)(()=>{(t?.quantity||1)<=u&&h(t?.quantity||1),u>p&&h(p||1)},[p,t?.quantity,u]),a.jsx(a.Fragment,{children:(0,a.jsxs)(s.Modal,{isCentered:!0,onClose:n,isOpen:e,motionPreset:"slideInBottom",children:[a.jsx(s.ModalOverlay,{}),(0,a.jsxs)(s.ModalContent,{children:[a.jsx(s.ModalCloseButton,{}),a.jsx(s.ModalBody,{children:(0,a.jsxs)(s.Stack,{fontWeight:"500",pt:4,children:[(0,a.jsxs)(s.Text,{children:["Product:"," ",a.jsx(s.Text,{as:"span",fontWeight:"300",children:t?.name})," "]}),(0,a.jsxs)(s.Text,{children:["Description:"," ",a.jsx(s.Text,{as:"span",fontWeight:"300",children:t?.description?t?.description:"-"})]}),(0,a.jsxs)(s.Text,{children:["Price:"," ",(0,a.jsxs)(s.Text,{as:"span",fontWeight:"300",children:["₱",t?.price]})]}),(0,a.jsxs)(s.Text,{children:["Stock/s:"," ",a.jsx(s.Text,{as:"span",fontWeight:"300",color:p/(t?.quantity||1)<=.1?"red":"",children:p>0?`${p} items left`:"Out of Stock"})]}),(0,a.jsxs)(s.Text,{children:["Unit:"," ",a.jsx(s.Text,{as:"span",fontWeight:"300",children:t?.unit})]}),(0,a.jsxs)(s.Text,{children:["Category:"," ",a.jsx(s.Badge,{variant:"outline",colorScheme:"teal",children:t?.category})]}),a.jsx(s.Text,{children:"Quantity: "}),(0,a.jsxs)(s.NumberInput,{isDisabled:(t?.quantity||0)<u,defaultValue:1,min:0,value:u,onChange:(e,t)=>{h(t||0)},children:[a.jsx(s.NumberInputField,{id:"quantity",fontWeight:"300",value:u,onChange:e=>h(parseInt(e.target.value)||0),placeholder:"Enter Quantity"}),(0,a.jsxs)(s.NumberInputStepper,{children:[a.jsx(s.NumberIncrementStepper,{}),a.jsx(s.NumberDecrementStepper,{})]})]})]})}),(0,a.jsxs)(s.ModalFooter,{children:[a.jsx(s.Button,{fontWeight:"300",variant:"solid",mr:3,onClick:n,children:"Cancel"}),a.jsx(s.Button,{fontWeight:"300",colorScheme:"teal",onClick:()=>{l((0,i.Xq)({...t,quantity:u,total:u*(t?.price||0)})),h(1),r(),n()},isDisabled:(t?.quantity||u)<x?.quantity+1||t?.quantity===0,children:"Add to Cart"})]})]})]})})};r()}catch(e){r(e)}})},2724:(e,t,n)=>{n.a(e,async(e,r)=>{try{n.d(t,{Jy:()=>c,qX:()=>s,wE:()=>l,xq:()=>d});var a=n(7546),o=e([a]);a=(o.then?(await o)():o)[0];let i=a.h.injectEndpoints({endpoints:e=>({createProduct:e.mutation({query:e=>({url:"product/api/createProduct",method:"POST",data:e}),invalidatesTags:["Product"]}),getAllProducts:e.query({query:(e="")=>({url:`product/api/getAllProducts${e}`,method:"GET"}),transformResponse:(e,t,n)=>e.data,providesTags:["Product","Transaction"]}),updateProduct:e.mutation({query:e=>({url:`product/api/updateProduct/${e._id}`,method:"PUT",data:e}),invalidatesTags:["Product"]}),deleteProduct:e.mutation({query:e=>({url:`product/api/deleteProduct/${e}`,method:"DELETE"}),invalidatesTags:["Product"]})})}),{useCreateProductMutation:s,useGetAllProductsQuery:c,useUpdateProductMutation:l,useDeleteProductMutation:d}=i;r()}catch(e){r(e)}})},5244:(e,t)=>{var n;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return n}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(n||(n={}))}};