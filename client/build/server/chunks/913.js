exports.id=913,exports.ids=[913],exports.modules={9132:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{j:()=>i});var s=a(997),n=a(4043),o=e([n]);n=(o.then?(await o)():o)[0];let i=({children:e})=>s.jsx(n.Z,{children:e});r()}catch(e){r(e)}})},5670:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{Z:()=>l});var s=a(997),n=a(8492),o=a(2210),i=e([n,o]);[n,o]=i.then?(await i)():i;let l=({isOpen:e,onClose:t})=>{let{handleLogout:a}=(0,n.Z)(),r=async()=>{try{await a(),t()}catch(e){console.log(e)}};return s.jsx(s.Fragment,{children:(0,s.jsxs)(o.Modal,{isCentered:!0,onClose:t,isOpen:e,motionPreset:"slideInBottom",children:[s.jsx(o.ModalOverlay,{}),(0,s.jsxs)(o.ModalContent,{children:[s.jsx(o.ModalHeader,{children:"Logout"}),s.jsx(o.ModalCloseButton,{}),s.jsx(o.ModalBody,{children:s.jsx(o.Text,{children:"Are you sure you want to log out?"})}),(0,s.jsxs)(o.ModalFooter,{children:[s.jsx(o.Button,{colorScheme:"teal",mr:3,onClick:t,children:"No"}),s.jsx(o.Button,{onClick:r,variant:"outline",children:"Yes"})]})]})]})})};r()}catch(e){r(e)}})},4043:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{Z:()=>y});var s=a(997),n=a(2210),o=a(8193),i=a(6893),l=a(9352),c=a(5670),u=a(9915),d=e([n,c,u]);[n,c,u]=d.then?(await d)():d;let h=({...e})=>{let{openLogoutModal:t,...a}=e,r=[{name:"Dashboard",icon:o.Io8,url:"/dashboard"},{name:"Transaction",icon:o.HjT,url:"/transaction"},{name:"Product Management",icon:o.kuQ,url:"/product"},{name:"User Management",icon:o.nf1,url:"/user"},{name:"Supplier Management",icon:o.kr8,url:"/supplier"},{name:"Reports",icon:o.wEQ,url:"/report"}],i=r.filter(e=>{let t=u.default.get("role");return"Cashier"!==t||!["User Management","Supplier Management","Reports","Product Management"].includes(e.name)});return s.jsx(n.Box,{as:"nav",pos:"fixed",top:"0",left:"0",zIndex:"sticky",h:"full",overflowX:"hidden",overflowY:"auto",bg:(0,n.useColorModeValue)("white","gray.800"),borderColor:(0,n.useColorModeValue)("inherit","gray.700"),borderRightWidth:"1px",w:"60 ",...a,children:(0,s.jsxs)(n.VStack,{h:"full",w:"full",alignItems:"flex-start",justify:"space-between",children:[(0,s.jsxs)(n.Box,{w:"full",children:[(0,s.jsxs)(n.Flex,{px:"4",py:"5",align:"center",children:[s.jsx(n.Icon,{as:l.oUl,h:8,w:8}),s.jsx(n.Text,{fontSize:"2xl",ml:"2",color:(0,n.useColorModeValue)("brand.500","white"),fontWeight:"semibold",children:"POS"})]}),s.jsx(n.Flex,{direction:"column",as:"nav",fontSize:"md",color:"gray.600","aria-label":"Main Navigation",children:i.map((e,t)=>s.jsx(p,{icon:e.icon,url:e.url,name:e.name},t))})]}),s.jsx(n.Flex,{px:"4",py:"5",mt:10,justify:"center",alignItems:"center",children:(0,s.jsxs)(n.Menu,{children:[s.jsx(n.MenuButton,{as:n.Button,size:"sm",rounded:"full",variant:"link",cursor:"pointer",_hover:{textDecoration:"none"},children:s.jsx(n.Avatar,{size:"sm",name:"Ahmad",src:"https://avatars2.githubusercontent.com/u/37842853?v=4"})}),s.jsx(n.MenuList,{fontSize:17,zIndex:5555,children:s.jsx(n.MenuItem,{onClick:t,children:"Logout"})})]})})]})})},p=e=>{let t=(0,n.useColorModeValue)("white","gray.300"),{icon:a,name:r,url:o}=e;return(0,s.jsxs)(n.Flex,{align:"center",as:"a",href:o,px:"4",py:"3",cursor:"pointer",role:"group",fontWeight:"300",transition:".15s ease",color:(0,n.useColorModeValue)("inherit","gray.400"),_hover:{bg:(0,n.useColorModeValue)("teal.500","gray.900"),color:(0,n.useColorModeValue)("white","gray.200")},children:[a&&s.jsx(n.Icon,{mx:"2",boxSize:"4",_groupHover:{color:t},as:a}),r]})},y=({children:e})=>{let{isOpen:t,onClose:a,onOpen:r}=(0,n.useDisclosure)(),{isOpen:o,onClose:u,onOpen:d}=(0,n.useDisclosure)();return(0,s.jsxs)(n.Box,{as:"section",bg:(0,n.useColorModeValue)("gray.50","gray.700"),minH:"100vh",children:[s.jsx(h,{openLogoutModal:d,display:{base:"none",md:"unset"}}),(0,s.jsxs)(n.Drawer,{isOpen:t,onClose:a,placement:"left",children:[s.jsx(n.DrawerOverlay,{}),s.jsx(n.DrawerContent,{children:s.jsx(h,{openLogoutModal:d,w:"full",borderRight:"none"})})]}),s.jsx(n.Box,{ml:{base:0,md:60},transition:".3s ease",children:(0,s.jsxs)(n.Flex,{as:"header",align:"center",w:"full",px:"4",display:{base:"flex",md:"none"},borderBottomWidth:"1px",borderColor:(0,n.useColorModeValue)("inherit","gray.700"),bg:(0,n.useColorModeValue)("white","gray.800"),justify:{base:"space-between",md:"flex-end"},boxShadow:"lg",h:"14",children:[s.jsx(n.IconButton,{"aria-label":"Menu",display:{base:"inline-flex",md:"none"},onClick:r,icon:s.jsx(i.cur,{}),size:"md"}),s.jsx(n.Flex,{align:"center",children:s.jsx(n.Icon,{as:l.oUl,h:8,w:8})})]})}),s.jsx(n.Box,{ml:{base:0,md:60},p:5,children:e}),s.jsx(c.Z,{isOpen:o,onClose:u})]})};r()}catch(e){r(e)}})},1064:(e,t,a)=>{"use strict";a.d(t,{M:()=>s});var r=a(997);let s=({children:e})=>r.jsx(r.Fragment,{children:e})},1457:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{M:()=>n.M,j:()=>s.j});var s=a(9132),n=a(1064),o=e([s]);s=(o.then?(await o)():o)[0],r()}catch(e){r(e)}})},8492:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{Z:()=>l});var s=a(9332),n=a(9915),o=a(2581),i=e([n,o]);[n,o]=i.then?(await i)():i;let l=()=>{let e=(0,s.useRouter)(),[t]=(0,o.YA)(),[a]=(0,o._y)(),r=async(a,r)=>{let{data:s,error:o}=await t({username:a,password:r});if(o)throw Error(o?.data?.message);s?.accessToken&&(n.default.set("authorized","true"),n.default.set("jwt",s?.accessToken),n.default.set("role",s?.role),e.push("/dashboard"))},i=async()=>{try{let{data:t}=await a({});if(null==t.accessToken){let t=Object.keys(n.default.get());t.forEach(e=>{n.default.remove(e)}),e.push("/login")}else throw Error()}catch(e){}};return{handleLogin:r,handleLogout:i}};r()}catch(e){r(e)}})},5913:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>u});var s=a(997),n=a(8862);a(6764);var o=a(3216),i=a(2210),l=a(1163),c=e([n,o,i]);[n,o,i]=c.then?(await c)():c;let d=({children:e})=>{let{pathname:t}=(0,l.useRouter)(),a=(0,o.G)(t);return s.jsx(a,{children:e})};function u({Component:e,pageProps:t}){return s.jsx(i.ChakraProvider,{children:s.jsx(n.C,{children:s.jsx(d,{children:s.jsx(e,{...t})})})})}r()}catch(e){r(e)}})},5843:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{r:()=>u});var s=a(9648),n=a(841),o=a(230),i=a(5378),l=a(8026),c=e([s,o,i]);[s,o,i]=c.then?(await c)():c;let u=s.default.create({baseURL:n._,headers:{Accept:"application/json","Content-Type":"application/json"}});(0,o.E)(u),(0,i.H)(u),(0,l.C)(u),r()}catch(e){r(e)}})},841:(e,t,a)=>{"use strict";a.d(t,{_:()=>r});let r="/"},5378:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{H:()=>l});var s=a(1163),n=a.n(s),o=a(9915),i=e([o]);o=(i.then?(await i)():i)[0];let l=e=>{e.interceptors.response.use(e=>e,e=>{if(e.response?.status===401){let e=Object.keys(o.default.get());e.forEach(e=>{o.default.remove(e)}),n().replace("/login")}if(e.response?.status===403&&n().replace("/dashboard"),e.response?.status===420){o.default.get("authorized")&&alert(`${e.response?.data.response.issue} 
 ${e.response?.data.response.resolution}`);let t=Object.keys(o.default.get());t.forEach(e=>{o.default.remove(e)}),n().replace("/login")}return Promise.reject(e)})};r()}catch(e){r(e)}})},230:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{E:()=>o});var s=a(9915),n=e([s]);s=(n.then?(await n)():n)[0];let o=e=>{e.interceptors.request.use(e=>{let t=s.default.get("jwt");return t?e.headers={...e.headers??{},Authorization:`Bearer ${t}`}:delete e.headers?.Authorization,e})};r()}catch(e){r(e)}})},8026:(e,t,a)=>{"use strict";a.d(t,{C:()=>r});let r=e=>{e.interceptors.request.use(e=>{let t=window?.navigator?.userAgent;return t&&e.url?.match(/login/)&&e.data&&(e.data.deviceBrand=t),e})}},7546:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{h:()=>l});var s=a(5843),n=a(4335),o=e([s]);s=(o.then?(await o)():o)[0];let i=async({url:e,method:t,data:a,responseType:r})=>{try{let n=a instanceof FormData,o=await s.r[t?.toLowerCase()]?.(e,a,{headers:{"Content-Type":n?"multipart/form-data":"application/json"},responseType:r});return{data:o.data??{}}}catch(e){return{error:{status:e.response?.status,data:e.response?.data}}}},l=(0,n.createApi)({reducerPath:"api",baseQuery:i,tagTypes:["Auth","Product","Store","User","Category","Cart","Transaction","Supplier"],endpoints:()=>({})});r()}catch(e){r(e)}})},5102:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{CG:()=>j,TL:()=>g,h:()=>x});var s=a(5184),n=a(6022),o=a(7546),i=a(7772),l=a(3792),c=a(8936),u=a.n(c),d=a(4161),h=e([o]);o=(h.then?(await h)():h)[0];let p=[];p.push(o.h.middleware);let y={timeout:100,key:"root",storage:u()},m=(0,s.combineReducers)({[o.h.reducerPath]:o.h.reducer,counter:i.ZP,cart:(0,d.persistReducer)(y,l.ZP)}),x=(0,s.configureStore)({reducer:m,middleware:e=>e({serializableCheck:!1}).concat(...p)}),g=()=>(0,n.useDispatch)(),j=n.useSelector;r()}catch(e){r(e)}})},8862:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{C:()=>u});var s=a(997),n=a(6022),o=a(5102),i=a(1127),l=a(4161),c=e([o]);function u({children:e}){let t=(0,l.persistStore)(o.h);return s.jsx(n.Provider,{store:o.h,children:s.jsx(i.PersistGate,{loading:null,persistor:t,children:e})})}o=(c.then?(await c)():c)[0],r()}catch(e){r(e)}})},3792:(e,t,a)=>{"use strict";a.d(t,{B8:()=>o,LL:()=>c,Qd:()=>i,Xq:()=>n,ZP:()=>u,a3:()=>l});var r=a(5184);let s=(0,r.createSlice)({name:"cart",initialState:{cart:[],totalPrice:0},reducers:{addToCart:(e,t)=>{let{_id:a,quantity:r,price:s}=t.payload,n=e.cart.find(e=>e._id===a);return n?{...e,cart:e.cart.map(e=>e._id===a?{...e,quantity:(e.quantity||0)+(r||1)}:e),totalPrice:e.totalPrice+(s||0)*(r||1)}:{...e,cart:[t.payload,...e.cart],totalPrice:e.totalPrice+(s||0)*(r||1)}},increaseQuantity:(e,t)=>{let a=e.cart.find(e=>e._id===t.payload);a&&(a.quantity+=1,a.total=(a.quantity||0)*(a.price||0),e.totalPrice+=a?.price||0)},decreaseQuantity:(e,t)=>{let a=e.cart.find(e=>e._id===t.payload);a&&a.quantity>1&&(a.quantity-=1,a.total=(a.quantity||0)*(a.price||0),e.totalPrice-=a?.price||0)},removeCartItem:(e,t)=>{let a=t.payload,r=e.cart.find(e=>e._id===a);if(!r)return e;let s=e.cart.filter(e=>e._id!==a),n=(r.price||0)*(r.quantity||0);return{...e,cart:s,totalPrice:e.totalPrice-n}},clearCart:e=>({...e,cart:[],totalPrice:0})}}),{addToCart:n,removeCartItem:o,increaseQuantity:i,decreaseQuantity:l,clearCart:c}=s.actions,u=s.reducer},7772:(e,t,a)=>{"use strict";a.d(t,{Mj:()=>o,ZP:()=>l,ds:()=>i,nP:()=>n});var r=a(5184);let s=(0,r.createSlice)({name:"counter",initialState:{value:0},reducers:{increment:e=>{e.value+=1},decrement:e=>{e.value-=1},incrementByAmount:(e,t)=>{e.value+=t.payload}}}),{increment:n,decrement:o,incrementByAmount:i}=s.actions,l=s.reducer},2581:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{Bl:()=>l,I1:()=>d,YA:()=>i,_y:()=>c,kD:()=>h,wv:()=>u});var s=a(7546),n=e([s]);s=(n.then?(await n)():n)[0];let o=s.h.injectEndpoints({endpoints:e=>({login:e.mutation({query:e=>({url:"api/auth/login",method:"POST",data:e}),transformResponse:(e,t,a)=>e.data}),signup:e.mutation({query:e=>({url:"api/auth/signup",method:"POST",data:e}),transformResponse:(e,t,a)=>e.data,invalidatesTags:["User"]}),logout:e.mutation({query:()=>({url:"api/auth/logout",method:"POST"})}),getAllUsers:e.query({query:(e="")=>({url:`api/auth/getAllUser${e}`,method:"GET"}),transformResponse:(e,t,a)=>e.data,providesTags:["User"]}),updateUser:e.mutation({query:e=>({url:`api/auth/updateUser/${e._id}`,method:"PUT",data:e}),invalidatesTags:["User"]}),deleteUser:e.mutation({query:e=>({url:`api/auth/deleteUser/${e}`,method:"DELETE"}),invalidatesTags:["User"]})})}),{useLoginMutation:i,useSignupMutation:l,useLogoutMutation:c,useGetAllUsersQuery:u,useDeleteUserMutation:d,useUpdateUserMutation:h}=o;r()}catch(e){r(e)}})},3216:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{G:()=>i});var s=a(1457),n=a(6689),o=e([s]);function i(e){return e.match(/^\/login|signup|forgot-password/)?s.M:e.match(/^\/homepage|dashboard|product|transaction|report|supplier|user/)?s.j:n.Fragment}s=(o.then?(await o)():o)[0],r()}catch(e){r(e)}})},6764:()=>{}};