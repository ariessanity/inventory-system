exports.id=913,exports.ids=[913],exports.modules={9132:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{j:()=>i});var s=r(997),n=r(4043),o=e([n]);n=(o.then?(await o)():o)[0];let i=({children:e})=>s.jsx(n.Z,{children:e});a()}catch(e){a(e)}})},5670:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>l});var s=r(997),n=r(8492),o=r(2210),i=e([n,o]);[n,o]=i.then?(await i)():i;let l=({isOpen:e,onClose:t})=>{let{handleLogout:r}=(0,n.Z)(),a=async()=>{try{await r(),t()}catch(e){console.log(e)}};return s.jsx(s.Fragment,{children:(0,s.jsxs)(o.Modal,{isCentered:!0,onClose:t,isOpen:e,motionPreset:"slideInBottom",children:[s.jsx(o.ModalOverlay,{}),(0,s.jsxs)(o.ModalContent,{children:[s.jsx(o.ModalHeader,{children:"Logout"}),s.jsx(o.ModalCloseButton,{}),s.jsx(o.ModalBody,{children:s.jsx(o.Text,{children:"Are you sure you want to log out?"})}),(0,s.jsxs)(o.ModalFooter,{children:[s.jsx(o.Button,{colorScheme:"teal",mr:3,onClick:t,children:"No"}),s.jsx(o.Button,{onClick:a,variant:"outline",children:"Yes"})]})]})]})})};a()}catch(e){a(e)}})},4043:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>m});var s=r(997),n=r(2210),o=r(8193),i=r(6893),l=r(9352),c=r(5670),u=r(9915),d=e([n,c,u]);[n,c,u]=d.then?(await d)():d;let h=({...e})=>{let{openLogoutModal:t,...r}=e,a=[{name:"Dashboard",icon:o.Io8,url:"/dashboard"},{name:"Transaction",icon:o.HjT,url:"/transaction"},{name:"Product Management",icon:o.kuQ,url:"/product"},{name:"User Management",icon:o.nf1,url:"/user"},{name:"Supplier Management",icon:o.kr8,url:"/supplier"},{name:"Reports",icon:o.wEQ,url:"/report"}],i=a.filter(e=>{let t=u.default.get("role");return"Cashier"!==t||!["User Management","Supplier Management","Reports","Product Management"].includes(e.name)});return s.jsx(n.Box,{as:"nav",pos:"fixed",top:"0",left:"0",zIndex:"sticky",h:"full",overflowX:"hidden",overflowY:"auto",bg:(0,n.useColorModeValue)("white","gray.800"),borderColor:(0,n.useColorModeValue)("inherit","gray.700"),borderRightWidth:"1px",w:"60 ",...r,children:(0,s.jsxs)(n.VStack,{h:"full",w:"full",alignItems:"flex-start",justify:"space-between",children:[(0,s.jsxs)(n.Box,{w:"full",children:[(0,s.jsxs)(n.Flex,{px:"4",py:"5",align:"center",children:[s.jsx(n.Icon,{as:l.oUl,h:8,w:8}),s.jsx(n.Text,{fontSize:"2xl",ml:"2",color:(0,n.useColorModeValue)("brand.500","white"),fontWeight:"semibold",children:"POS"})]}),s.jsx(n.Flex,{direction:"column",as:"nav",fontSize:"md",color:"gray.600","aria-label":"Main Navigation",children:i.map((e,t)=>s.jsx(p,{icon:e.icon,url:e.url,name:e.name},t))})]}),s.jsx(n.Flex,{px:"4",py:"5",mt:10,justify:"center",alignItems:"center",children:(0,s.jsxs)(n.Menu,{children:[s.jsx(n.MenuButton,{as:n.Button,size:"sm",rounded:"full",variant:"link",cursor:"pointer",_hover:{textDecoration:"none"},children:s.jsx(n.Avatar,{size:"sm",name:"Ahmad",src:"https://avatars2.githubusercontent.com/u/37842853?v=4"})}),s.jsx(n.MenuList,{fontSize:17,zIndex:5555,children:s.jsx(n.MenuItem,{onClick:t,children:"Logout"})})]})})]})})},p=e=>{let t=(0,n.useColorModeValue)("white","gray.300"),{icon:r,name:a,url:o}=e;return(0,s.jsxs)(n.Flex,{align:"center",as:"a",href:o,px:"4",py:"3",cursor:"pointer",role:"group",fontWeight:"300",transition:".15s ease",color:(0,n.useColorModeValue)("inherit","gray.400"),_hover:{bg:(0,n.useColorModeValue)("teal.500","gray.900"),color:(0,n.useColorModeValue)("white","gray.200")},children:[r&&s.jsx(n.Icon,{mx:"2",boxSize:"4",_groupHover:{color:t},as:r}),a]})},m=({children:e})=>{let{isOpen:t,onClose:r,onOpen:a}=(0,n.useDisclosure)(),{isOpen:o,onClose:u,onOpen:d}=(0,n.useDisclosure)();return(0,s.jsxs)(n.Box,{as:"section",bg:(0,n.useColorModeValue)("gray.50","gray.700"),minH:"100vh",children:[s.jsx(h,{openLogoutModal:d,display:{base:"none",md:"unset"}}),(0,s.jsxs)(n.Drawer,{isOpen:t,onClose:r,placement:"left",children:[s.jsx(n.DrawerOverlay,{}),s.jsx(n.DrawerContent,{children:s.jsx(h,{openLogoutModal:d,w:"full",borderRight:"none"})})]}),s.jsx(n.Box,{ml:{base:0,md:60},transition:".3s ease",children:(0,s.jsxs)(n.Flex,{as:"header",align:"center",w:"full",px:"4",display:{base:"flex",md:"none"},borderBottomWidth:"1px",borderColor:(0,n.useColorModeValue)("inherit","gray.700"),bg:(0,n.useColorModeValue)("white","gray.800"),justify:{base:"space-between",md:"flex-end"},boxShadow:"lg",h:"14",children:[s.jsx(n.IconButton,{"aria-label":"Menu",display:{base:"inline-flex",md:"none"},onClick:a,icon:s.jsx(i.cur,{}),size:"md"}),s.jsx(n.Flex,{align:"center",children:s.jsx(n.Icon,{as:l.oUl,h:8,w:8})})]})}),s.jsx(n.Box,{ml:{base:0,md:60},p:5,children:e}),s.jsx(c.Z,{isOpen:o,onClose:u})]})};a()}catch(e){a(e)}})},1064:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var a=r(997);let s=({children:e})=>a.jsx(a.Fragment,{children:e})},1457:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{M:()=>n.M,j:()=>s.j});var s=r(9132),n=r(1064),o=e([s]);s=(o.then?(await o)():o)[0],a()}catch(e){a(e)}})},3160:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a}),r(7388);let a={getItem:e=>Promise.resolve(null),setItem:(e,t)=>Promise.resolve(t),removeItem:e=>Promise.resolve()}},8492:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>l});var s=r(9332),n=r(9915),o=r(2581),i=e([n,o]);[n,o]=i.then?(await i)():i;let l=()=>{let e=(0,s.useRouter)(),[t]=(0,o.YA)(),[r]=(0,o._y)(),a=async(r,a)=>{let{data:s,error:o}=await t({username:r,password:a});if(o)throw Error(o?.data?.message);s?.accessToken&&(n.default.set("authorized","true"),n.default.set("jwt",s?.accessToken),n.default.set("role",s?.role),e.push("/dashboard"))},i=async()=>{try{let{data:t}=await r({});if(null==t.accessToken){let t=Object.keys(n.default.get());t.forEach(e=>{n.default.remove(e)}),e.push("/login")}else throw Error()}catch(e){}};return{handleLogin:a,handleLogout:i}};a()}catch(e){a(e)}})},5913:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>u});var s=r(997),n=r(8862);r(6764);var o=r(3216),i=r(2210),l=r(1163),c=e([n,o,i]);[n,o,i]=c.then?(await c)():c;let d=({children:e})=>{let{pathname:t}=(0,l.useRouter)(),r=(0,o.G)(t);return s.jsx(r,{children:e})};function u({Component:e,pageProps:t}){return s.jsx(i.ChakraProvider,{children:s.jsx(n.C,{children:s.jsx(d,{children:s.jsx(e,{...t})})})})}a()}catch(e){a(e)}})},5843:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{r:()=>u});var s=r(9648),n=r(841),o=r(230),i=r(5378),l=r(8026),c=e([s,o,i]);[s,o,i]=c.then?(await c)():c;let u=s.default.create({baseURL:n._,headers:{Accept:"application/json","Content-Type":"application/json"}});(0,o.E)(u),(0,i.H)(u),(0,l.C)(u),a()}catch(e){a(e)}})},841:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});let a="http://54.255.152.191/"},5378:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{H:()=>l});var s=r(1163),n=r.n(s),o=r(9915),i=e([o]);o=(i.then?(await i)():i)[0];let l=e=>{e.interceptors.response.use(e=>e,e=>{if(e.response?.status===401){let e=Object.keys(o.default.get());e.forEach(e=>{o.default.remove(e)}),n().replace("/login")}if(e.response?.status===403&&n().replace("/dashboard"),e.response?.status===420){o.default.get("authorized")&&alert(`${e.response?.data.response.issue} 
 ${e.response?.data.response.resolution}`);let t=Object.keys(o.default.get());t.forEach(e=>{o.default.remove(e)}),n().replace("/login")}return Promise.reject(e)})};a()}catch(e){a(e)}})},230:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{E:()=>o});var s=r(9915),n=e([s]);s=(n.then?(await n)():n)[0];let o=e=>{e.interceptors.request.use(e=>{let t=s.default.get("jwt");return t?e.headers={...e.headers??{},Authorization:`Bearer ${t}`}:delete e.headers?.Authorization,e})};a()}catch(e){a(e)}})},8026:(e,t,r)=>{"use strict";r.d(t,{C:()=>a});let a=e=>{e.interceptors.request.use(e=>{let t=window?.navigator?.userAgent;return t&&e.url?.match(/login/)&&e.data&&(e.data.deviceBrand=t),e})}},7546:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{h:()=>l});var s=r(5843),n=r(4335),o=e([s]);s=(o.then?(await o)():o)[0];let i=async({url:e,method:t,data:r,responseType:a})=>{try{let n=r instanceof FormData,o=await s.r[t?.toLowerCase()]?.(e,r,{headers:{"Content-Type":n?"multipart/form-data":"application/json"},responseType:a});return{data:o.data??{}}}catch(e){return{error:{status:e.response?.status,data:e.response?.data}}}},l=(0,n.createApi)({reducerPath:"api",baseQuery:i,tagTypes:["Auth","Product","Store","User","Category","Cart","Transaction","Supplier"],endpoints:()=>({})});a()}catch(e){a(e)}})},5102:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{CG:()=>g,TL:()=>x,h:()=>y});var s=r(5184),n=r(6022),o=r(7546),i=r(7772),l=r(3792),c=r(4161),u=r(3160),d=e([o]);o=(d.then?(await d)():d)[0];let h=[];h.push(o.h.middleware);let p={timeout:100,key:"root",storage:u.Z},m=(0,s.combineReducers)({[o.h.reducerPath]:o.h.reducer,counter:i.ZP,cart:(0,c.persistReducer)(p,l.ZP)}),y=(0,s.configureStore)({reducer:m,middleware:e=>e({serializableCheck:!1}).concat(...h)}),x=()=>(0,n.useDispatch)(),g=n.useSelector;a()}catch(e){a(e)}})},8862:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{C:()=>u});var s=r(997),n=r(6022),o=r(5102),i=r(1127),l=r(4161),c=e([o]);function u({children:e}){let t=(0,l.persistStore)(o.h);return s.jsx(n.Provider,{store:o.h,children:s.jsx(i.PersistGate,{loading:null,persistor:t,children:e})})}o=(c.then?(await c)():c)[0],a()}catch(e){a(e)}})},3792:(e,t,r)=>{"use strict";r.d(t,{B8:()=>o,LL:()=>c,Qd:()=>i,Xq:()=>n,ZP:()=>u,a3:()=>l});var a=r(5184);let s=(0,a.createSlice)({name:"cart",initialState:{cart:[],totalPrice:0},reducers:{addToCart:(e,t)=>{let{_id:r,quantity:a,price:s}=t.payload,n=e.cart.find(e=>e._id===r);return n?{...e,cart:e.cart.map(e=>e._id===r?{...e,quantity:(e.quantity||0)+(a||1)}:e),totalPrice:e.totalPrice+(s||0)*(a||1)}:{...e,cart:[t.payload,...e.cart],totalPrice:e.totalPrice+(s||0)*(a||1)}},increaseQuantity:(e,t)=>{let r=e.cart.find(e=>e._id===t.payload);r&&(r.quantity+=1,r.total=(r.quantity||0)*(r.price||0),e.totalPrice+=r?.price||0)},decreaseQuantity:(e,t)=>{let r=e.cart.find(e=>e._id===t.payload);r&&r.quantity>1&&(r.quantity-=1,r.total=(r.quantity||0)*(r.price||0),e.totalPrice-=r?.price||0)},removeCartItem:(e,t)=>{let r=t.payload,a=e.cart.find(e=>e._id===r);if(!a)return e;let s=e.cart.filter(e=>e._id!==r),n=(a.price||0)*(a.quantity||0);return{...e,cart:s,totalPrice:e.totalPrice-n}},clearCart:e=>({...e,cart:[],totalPrice:0})}}),{addToCart:n,removeCartItem:o,increaseQuantity:i,decreaseQuantity:l,clearCart:c}=s.actions,u=s.reducer},7772:(e,t,r)=>{"use strict";r.d(t,{Mj:()=>o,ZP:()=>l,ds:()=>i,nP:()=>n});var a=r(5184);let s=(0,a.createSlice)({name:"counter",initialState:{value:0},reducers:{increment:e=>{e.value+=1},decrement:e=>{e.value-=1},incrementByAmount:(e,t)=>{e.value+=t.payload}}}),{increment:n,decrement:o,incrementByAmount:i}=s.actions,l=s.reducer},2581:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Bl:()=>l,I1:()=>d,YA:()=>i,_y:()=>c,kD:()=>h,wv:()=>u});var s=r(7546),n=e([s]);s=(n.then?(await n)():n)[0];let o=s.h.injectEndpoints({endpoints:e=>({login:e.mutation({query:e=>({url:"api/auth/login",method:"POST",data:e}),transformResponse:(e,t,r)=>e.data}),signup:e.mutation({query:e=>({url:"api/auth/signup",method:"POST",data:e}),transformResponse:(e,t,r)=>e.data,invalidatesTags:["User"]}),logout:e.mutation({query:()=>({url:"api/auth/logout",method:"POST"})}),getAllUsers:e.query({query:(e="")=>({url:`api/auth/getAllUser${e}`,method:"GET"}),transformResponse:(e,t,r)=>e.data,providesTags:["User"]}),updateUser:e.mutation({query:e=>({url:`api/auth/updateUser/${e._id}`,method:"PUT",data:e}),invalidatesTags:["User"]}),deleteUser:e.mutation({query:e=>({url:`api/auth/deleteUser/${e}`,method:"DELETE"}),invalidatesTags:["User"]})})}),{useLoginMutation:i,useSignupMutation:l,useLogoutMutation:c,useGetAllUsersQuery:u,useDeleteUserMutation:d,useUpdateUserMutation:h}=o;a()}catch(e){a(e)}})},3216:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{G:()=>i});var s=r(1457),n=r(6689),o=e([s]);function i(e){return e.match(/^\/login|signup|forgot-password/)?s.M:e.match(/^\/homepage|dashboard|product|transaction|report|supplier|user/)?s.j:n.Fragment}s=(o.then?(await o)():o)[0],a()}catch(e){a(e)}})},6764:()=>{}};