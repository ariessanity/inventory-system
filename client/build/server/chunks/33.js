"use strict";exports.id=33,exports.ids=[33],exports.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},6105:(e,t,r)=>{r.d(t,{Dl:()=>i,bd:()=>n,uJ:()=>s});let n=["Concrete and Masonry","Roofing Materials","Drywall and Accessories","Builders' Hardware","Caulks and Sealants","Insulation"],i=[{name:"Piece"},{name:"Pack"},{name:"Box"},{name:"Roll"},{name:"Sheet"},{name:"Set"},{name:"Bundle"},{name:"Gallon"},{name:"Pound"},{name:"Foot"}],s=[{name:"Admin"},{name:"Cashier"}]},1207:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Document});var n=r(997),i=r(6859);function Document(){return(0,n.jsxs)(i.Html,{lang:"en",children:[n.jsx(i.Head,{}),(0,n.jsxs)("body",{children:[n.jsx(i.Main,{}),n.jsx(i.NextScript,{})]})]})}},7474:(e,t,r)=>{r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{default:()=>h});var i=r(997),s=r(6689),a=r(2210),o=r(1908),c=r(2070),l=r(5641),d=r(2724),u=r(6134),m=r(6105),p=e([a,o,l,d,u]);[a,o,l,d,u]=p.then?(await p)():p;let h=({isOpen:e,onClose:t,isEdit:r,editData:n,deleteProduct:p})=>{let[h,{isSuccess:x,isError:g,error:y}]=(0,d.qX)(),[j,{isSuccess:f,isError:P,error:b}]=(0,d.wE)(),E=(0,a.useToast)(),{handleSubmit:F,register:q,reset:v,setValue:C,formState:{errors:S}}=(0,l.useForm)({resolver:(0,o.yupResolver)(c.I)});(0,s.useEffect)(()=>{if(r&&n){let{name:e,price:t,description:r,quantity:i,unit:s,category:a}=n;C("name",e),C("price",t),C("quantity",i),C("description",r),C("unit",s),C("category",a)}else v()},[r,n,C,v]),(0,s.useEffect)(()=>{x&&E({title:"Success",variant:"left-accent",status:"success",position:"top",isClosable:!0}),g&&E({title:y?.data?.response?.message,variant:"left-accent",status:"error",position:"top",isClosable:!0})},[x,g,y,E]),(0,s.useEffect)(()=>{f&&E({title:"Success",variant:"left-accent",status:"success",position:"top",isClosable:!0}),P&&E({title:b?.data?.response?.message,variant:"left-accent",status:"error",position:"top",isClosable:!0})},[f,P,b,E]),(0,s.useEffect)(()=>{r&&f&&(t(),v())},[r,f,t,v]),(0,s.useEffect)(()=>{!r&&x&&(t(),v())},[r,x,t,v]);let w=async e=>{r?await j({...e,_id:n?._id}):await h(e)};return i.jsx(a.Drawer,{isOpen:e,placement:"right",onClose:()=>{r||v(),t()},children:(0,i.jsxs)("form",{onSubmit:F(w),children:[i.jsx(a.DrawerOverlay,{}),(0,i.jsxs)(a.DrawerContent,{children:[i.jsx(a.DrawerCloseButton,{}),i.jsx(a.DrawerHeader,{fontWeight:"400",children:r?"Update Product":"Create Product"}),(0,i.jsxs)(a.DrawerBody,{children:[(0,i.jsxs)(a.FormControl,{isInvalid:!!S?.name,mb:5,children:[i.jsx(a.FormLabel,{htmlFor:"name",fontWeight:"300",children:"Product"}),i.jsx(a.Input,{id:"name",...q("name"),placeholder:"Electrical Tape",fontWeight:"300"}),i.jsx(a.FormErrorMessage,{children:S.name&&S.name.message})]}),(0,i.jsxs)(a.FormControl,{isInvalid:!!S?.description,mb:5,children:[i.jsx(a.FormLabel,{htmlFor:"description",fontWeight:"300",children:"Description"}),i.jsx(a.Input,{id:"description",...q("description"),placeholder:"Description",fontWeight:"300"}),i.jsx(a.FormErrorMessage,{children:S.description&&S.description.message})]}),(0,i.jsxs)(a.FormControl,{isInvalid:!!S?.price,mb:5,children:[i.jsx(a.FormLabel,{htmlFor:"price",fontWeight:"300",children:"Price per unit"}),i.jsx(a.Input,{id:"price",...q("price"),placeholder:"â‚±50.00",type:"number",step:"any",min:"0",max:"9999999",fontWeight:"300"}),i.jsx(a.FormErrorMessage,{children:S.price&&S.price.message})]}),(0,i.jsxs)(a.FormControl,{isInvalid:!!S?.quantity,mb:5,children:[i.jsx(a.FormLabel,{htmlFor:"quantity",fontWeight:"300",children:"Quantity"}),i.jsx(a.Input,{id:"quantity",...q("quantity"),placeholder:"1",type:"number",fontWeight:"300"}),i.jsx(a.FormErrorMessage,{children:S.quantity&&S.quantity.message})]}),(0,i.jsxs)(a.FormControl,{isInvalid:!!S?.unit,mb:5,children:[i.jsx(a.FormLabel,{htmlFor:"unit",fontWeight:"300",children:"Unit"}),i.jsx(a.Select,{id:"unit",placeholder:"Select unit",...q("unit"),fontWeight:"300",children:m.Dl?.map((e,t)=>i.jsx("option",{value:e.name,children:e.name},t))}),i.jsx(a.FormErrorMessage,{children:S.unit&&S.unit.message})]}),(0,i.jsxs)(a.FormControl,{isInvalid:!!S?.category,mb:5,children:[i.jsx(a.FormLabel,{htmlFor:"category",fontWeight:"300",children:"Category"}),i.jsx(a.Select,{id:"category",placeholder:"Select category",...q("category"),fontWeight:"300",children:m.bd?.map((e,t)=>i.jsx("option",{value:e,children:e},t))}),i.jsx(a.FormErrorMessage,{children:S.category&&S.category.message})]})]}),(0,i.jsxs)(a.DrawerFooter,{justifyContent:"space-between",children:[i.jsx(a.Flex,{children:i.jsx(u.DeleteIcon,{onClick:()=>p(n?._id),color:"red.500",cursor:"pointer"})}),(0,i.jsxs)(a.Flex,{children:[i.jsx(a.Button,{variant:"outline",mr:3,onClick:t,children:"Cancel"}),i.jsx(a.Button,{type:"submit",colorScheme:"teal",children:r?"Update":"Create"})]})]})]})]})})};n()}catch(e){n(e)}})},2070:(e,t,r)=>{r.d(t,{I:()=>i});var n=r(5609);let i=n.object().shape({name:n.string().required("Product name is required").max(30,"Product must be less than 30 characters!"),description:n.string().optional().max(30,"Description must be less than 30 characters!"),price:n.number().required("Price is required").typeError("Price must be a number"),quantity:n.number().required("Product quantiy is required").typeError("Quantity must be a number"),unit:n.string().required("Product unit is required"),category:n.string().required("Product category is required")})},2724:(e,t,r)=>{r.a(e,async(e,n)=>{try{r.d(t,{Jy:()=>c,qX:()=>o,wE:()=>l,xq:()=>d});var i=r(7546),s=e([i]);i=(s.then?(await s)():s)[0];let a=i.h.injectEndpoints({endpoints:e=>({createProduct:e.mutation({query:e=>({url:"product/api/createProduct",method:"POST",data:e}),invalidatesTags:["Product"]}),getAllProducts:e.query({query:(e="")=>({url:`product/api/getAllProducts${e}`,method:"GET"}),transformResponse:(e,t,r)=>e.data,providesTags:["Product","Transaction"]}),updateProduct:e.mutation({query:e=>({url:`product/api/updateProduct/${e._id}`,method:"PUT",data:e}),invalidatesTags:["Product"]}),deleteProduct:e.mutation({query:e=>({url:`product/api/deleteProduct/${e}`,method:"DELETE"}),invalidatesTags:["Product"]})})}),{useCreateProductMutation:o,useGetAllProductsQuery:c,useUpdateProductMutation:l,useDeleteProductMutation:d}=a;n()}catch(e){n(e)}})},5244:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))}};